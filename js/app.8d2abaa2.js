(function(){"use strict";var e={1193:function(e,t,a){var s=a(6768),l=a(144),i=a(4232),o=a(5130),r=a(5384),n=a(1017),d=a.n(n);const c=()=>{d().languages.ini={comment:/#.*/,section:{pattern:/^\s*\[.*?\]/m,inside:{"section-name":{pattern:/\[.*?\]/,inside:{punctuation:/\[|\]/}}}},key:{pattern:/^\s*[^\s=]+(?=\s*=)/m,alias:"attr-name"},value:{pattern:/=.*/,alias:"attr-value",inside:{punctuation:/^=/,number:/\b\d+\.?\d*\b/,boolean:/\b(?:yes|no|true|false)\b/i,string:/'[^']*'|"[^"]*"|[^=\s]+/,type:/\b(?:integer|double|text)\b/i}}};const e="\n    .token.number {\n      color: #f08d49 !important;\n    }\n    .token.boolean {\n      color: #7ec699 !important;\n    }\n    .token.string {\n      color: #f1fa8c !important;\n    }\n    .token.type {\n      color: #bd93f9 !important;\n    }\n    .token.section {\n      color: #79b8ff !important;\n    }\n    .token.key {\n      color: #e1e4e8 !important;\n    }\n    .token.value {\n      color: #85e89d !important;\n    }\n    .token.comment {\n      color: #959da5 !important;\n      font-style: italic;\n    }\n  ",t=document.createElement("style");t.textContent=e,document.head.appendChild(t)},u=e=>{e&&d().highlightElement(e)},p={parser:["name","coor_x","coor_y","coor_z"],field:["name","type"]},v={comment_mark:"#",coor_x:"COORX",coor_y:"COORY",coor_z:"COORZ",geom_tag_point:".",geom_tag_line:"$",geom_tag_poly:"@",no_data:"-1"},m={name:"",change_case:"lower",empty_allowed:"no",info:"",merge_separators:"no",persistent:"no",quotation:"'",skip:"no",separator:";",type:"text",unique:"no",aliases:""};function g(){const e=(0,l.KR)({info:"",name:"",comment_mark:v.comment_mark,coor_x:v.coor_x,coor_y:v.coor_y,coor_z:v.coor_z,geom_tag_point:v.geom_tag_point,geom_tag_line:v.geom_tag_line,geom_tag_poly:v.geom_tag_poly,key_field:"",key_unique:"No",no_data:v.no_data,tag_field:"",tagging_mode:"none",tag_strict:"No"}),t=()=>{Object.keys(e.value).forEach((t=>{e.value[t]=v[t]||""}))};return{parserSection:e,resetParser:t}}a(4114),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698);const f=e=>{const t=[];return e.length>10&&t.push("Field name must be 10 characters or less"),/^[A-Za-z0-9_]*$/.test(e)||t.push("Field name can only contain letters, numbers, and underscores"),t},y=e=>{if(!e)return null;const t=e.split("\n").filter((e=>e.trim())),a=new Set,s=new Set;for(const l of t){if(!l.startsWith("@"))return"Each line must start with @";const[e,...t]=l.substring(1).split("="),i=e.trim(),o=t.join("=").trim();if(!i||!o)return"Each line must be in format @key=value";const r=/[^a-zA-Z0-9_]/;if(r.test(i)||r.test(o))return"Keys and values can only contain letters, numbers, and underscores";if(a.has(i))return`Duplicate key found: ${i}`;a.add(i);const n=i.toLowerCase();if(s.has(n)&&!a.has(i))return`Case-insensitive duplicate key found: ${i}`;s.add(n)}return null};function h(){const e=(0,l.KR)([]),t=(0,l.KR)({}),a=e=>{const a={};Object.entries(t.value).forEach((([t,s])=>{const l=t.match(/field-(\d+)/);if(l){const i=parseInt(l[1]);if(i===e)return;if(i<e)return void(a[t]=s);if(i>e){const e=i-1,l=t.replace(`field-${i}`,`field-${e}`);a[l]=s}}})),t.value=a},s=t=>{e.value.splice(t,1),a(t)},i=(e,a,s)=>{const l="aliases"===a?`field-${e}-aliases`:`field-${e}`,i={...t.value};if(delete i[l],"aliases"===a){const e=s?y(s):null;e&&(i[l]=e)}else{const e=f(s);e.length>0&&(i[l]=e)}t.value=i},o=()=>{const t=e.value.length;return e.value.push({...m}),t};return{fieldSections:e,validationErrors:t,validateField:i,addFieldSection:o,removeFieldSection:s}}const b={class:"prose prose-sm"},x={key:0,class:"prose prose-sm"},k={key:1,class:"prose prose-sm"},w={key:2,class:"prose prose-sm"},L={key:3,class:"prose prose-sm"};var _={__name:"HelpSidebar",props:{section:{type:String,required:!0}},setup(e){return(t,a)=>((0,s.uX)(),(0,s.CE)("div",b,["parser"===e.section?((0,s.uX)(),(0,s.CE)("div",x,a[0]||(a[0]=[(0,s.Fv)('<div class="mb-8" data-v-54c17738><p class="text-gray-600 mb-1" data-v-54c17738> This guide explains how to configure the parser section [Parser] in your configuration file. Each option controls specific aspects of how your input data is processed and interpreted. </p></div><div class="space-y-8" data-v-54c17738><div class="border-b pb-6" data-v-54c17738><h4 class="text-xl font-semibold mb-1 text-blue-600" data-v-54c17738>Required Options</h4><div class="grid gap-6" data-v-54c17738><div class="bg-gray-50 p-6 rounded-lg" data-v-54c17738><h3 class="font-semibold text-gray-800 text-lg" data-v-54c17738>Coordinates (Required)</h3><div class="mt-3 space-y-3" data-v-54c17738><p class="text-gray-600" data-v-54c17738>Specifies which fields in your input data contain the spatial coordinates of your measurements. The X and Y coordinates are mandatory, while Z is optional.</p><ul class="list-disc list-inside text-gray-600 ml-4 space-y-1" data-v-54c17738><li data-v-54c17738><span class="font-medium" data-v-54c17738>coor x, coor y:</span> Must be specified and reference existing numeric fields of type &quot;double&quot;</li><li data-v-54c17738><span class="font-medium" data-v-54c17738>coor z:</span> Optional - if not specified, Z coordinates default to 0.0</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-54c17738> coor x = xfield<br data-v-54c17738> coor y = yfield<br data-v-54c17738> coor z = zfield </code></div></div><div class="bg-gray-50 p-6 rounded-lg" data-v-54c17738><h3 class="font-semibold text-gray-800 text-lg" data-v-54c17738>Geometry Tags (Required)</h3><div class="mt-3 space-y-3" data-v-54c17738><p class="text-gray-600" data-v-54c17738>Defines special markers that identify different types of geometries in your data. These tags allow the parser to convert simple point measurements into complex geometries like lines and polygons.</p><ul class="list-disc list-inside text-gray-600 ml-4 space-y-1" data-v-54c17738><li data-v-54c17738><span class="font-medium" data-v-54c17738>geom tag point:</span> Marks point features (optional in some parser modes)</li><li data-v-54c17738><span class="font-medium" data-v-54c17738>geom tag line:</span> Marks line features</li><li data-v-54c17738><span class="font-medium" data-v-54c17738>geom tag poly:</span> Marks polygon features</li></ul><p class="text-gray-600" data-v-54c17738>You can define up to 32 tags per geometry type, but they must be unique and not overlap with field separators or quotation marks.</p><code class="block bg-gray-100mt-2 text-sm rounded" data-v-54c17738> geom tag point = &quot;*&quot;<br data-v-54c17738> geom tag line = &quot;-&quot;<br data-v-54c17738> geom tag poly = &quot;@&quot;<br data-v-54c17738> geom tag poly = &quot;@ &quot; # Alternative polygon tag </code></div></div><div class="bg-gray-50 p-6 rounded-lg" data-v-54c17738><h3 class="font-semibold text-gray-800 text-lg" data-v-54c17738>Key Field (Required for some modes)</h3><div class="mt-3 space-y-3" data-v-54c17738><p class="text-gray-600" data-v-54c17738>Specifies the field that contains identifier values linking multiple measurements that belong to the same geometry (like points in a line or polygon).</p><ul class="list-disc list-inside text-gray-600 ml-4 space-y-1" data-v-54c17738><li data-v-54c17738>Mandatory for parser modes &quot;End&quot; and &quot;Max&quot;</li><li data-v-54c17738>All measurements with the same key value are considered part of the same geometry</li><li data-v-54c17738>Can be used with &quot;key unique&quot; option to handle multi-part geometries</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-54c17738> key field = key<br data-v-54c17738> key unique = yes # Optional, for multi-part geometries </code></div></div><div class="bg-gray-50 p-6 rounded-lg" data-v-54c17738><h3 class="font-semibold text-gray-800 text-lg" data-v-54c17738>Tagging Mode (Required)</h3><div class="mt-3 space-y-3" data-v-54c17738><p class="text-gray-600" data-v-54c17738>Determines how the parser interprets geometry tags and processes measurements into features.</p><ul class="list-disc list-inside text-gray-600 ml-4 space-y-1" data-v-54c17738><li data-v-54c17738><span class="font-medium" data-v-54c17738>min:</span> Minimal tagging - typically used when each geometry has one record with complete attributes</li><li data-v-54c17738><span class="font-medium" data-v-54c17738>max:</span> Maximum tagging - for complex geometries with multiple attribute records</li><li data-v-54c17738><span class="font-medium" data-v-54c17738>end:</span> End tagging - processes geometries based on ending markers</li><li data-v-54c17738><span class="font-medium" data-v-54c17738>none:</span> No tagging - treats all records as simple point measurements</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-54c17738> tagging mode = end </code></div></div></div></div><div data-v-54c17738><h4 class="text-xl font-semibold mb-1 text-green-600" data-v-54c17738>Optional Settings</h4><div class="grid gap-6" data-v-54c17738><div class="bg-gray-50 p-6 rounded-lg" data-v-54c17738><h3 class="font-semibold text-gray-800 text-lg" data-v-54c17738>Comment Mark</h3><div class="mt-3 space-y-3" data-v-54c17738><p class="text-gray-600" data-v-54c17738>Defines special characters that mark the beginning of comments in your input data. Any text after these markers will be ignored during processing.</p><ul class="list-disc list-inside text-gray-600 ml-4" data-v-54c17738><li data-v-54c17738>Multiple comment marks can be specified</li><li data-v-54c17738>Must not conflict with field separators or quotation marks</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-54c17738> comment mark = #<br data-v-54c17738> comment mark = // </code></div></div><div class="bg-gray-50 p-6 rounded-lg" data-v-54c17738><h4 class="font-semibold text-gray-800 text-lg" data-v-54c17738>No Data Value</h4><div class="mt-3 space-y-3" data-v-54c17738><p class="text-gray-600" data-v-54c17738>Specifies an integer value to represent null or missing data in your attributes. This value should be unique and not appear in valid data.</p><p class="text-gray-600" data-v-54c17738>This value will be written to output files when a field is empty or contains no valid data.</p><code class="block bg-gray-100mt-2 text-sm rounded" data-v-54c17738> no data = -99999 </code></div></div><div class="bg-gray-50 p-6 rounded-lg" data-v-54c17738><h4 class="font-semibold text-gray-800 text-lg" data-v-54c17738>Tag Strict Mode</h4><div class="mt-3 space-y-3" data-v-54c17738><p class="text-gray-600" data-v-54c17738>Controls how strictly the parser enforces geometry tagging rules. When enabled, every measurement must contain a valid geometry tag or it will be discarded.</p><p class="text-gray-600" data-v-54c17738>Defaults to &quot;off&quot; if not specified. Enable this for stricter data validation.</p><code class="block bg-gray-100mt-2 text-sm rounded" data-v-54c17738> tag strict = yes </code></div></div></div></div></div><div class="mt-8 p-6 bg-blue-50 rounded-lg" data-v-54c17738><h4 class="font-semibold text-blue-800 mb-3 text-lg" data-v-54c17738>Important Considerations</h4><ul class="list-disc list-inside space-y-1 text-blue-700" data-v-54c17738><li data-v-54c17738>All geometry tags must be unique and not overlap with other special characters</li><li data-v-54c17738>Coordinate fields must be numeric and of type &quot;double&quot;</li><li data-v-54c17738>When using the key field, consider whether your geometries might have multiple parts</li><li data-v-54c17738>The parser mode significantly affects how your data is processed - choose carefully</li><li data-v-54c17738>Tag strict mode can help catch data errors but may discard valid measurements if not properly tagged</li></ul></div>',3)]))):(0,s.Q3)("",!0),"imprint"===e.section?((0,s.uX)(),(0,s.CE)("div",k,a[1]||(a[1]=[(0,s.Fv)('<div class="bg-white rounded-lg mb-3 mt-6" data-v-54c17738><h4 class="text-xl font-bold text-gray-800 mb-1" data-v-54c17738>Anbieter</h4><div class="space-y-1 text-gray-600" data-v-54c17738><p class="font-medium" data-v-54c17738> Landesamt für Denkmalpflege im Regierungspräsidium Stuttgart<br data-v-54c17738> Berliner Straße 12<br data-v-54c17738> 73728 Esslingen (Neckar)</p></div></div><div class="bg-white rounded-lg mb-3" data-v-54c17738><h4 class="text-xl font-bold text-gray-800 mb-1" data-v-54c17738>Hinweise zur Nutzung</h4><ol class="list-decimal list-inside space-y-3 text-gray-600" data-v-54c17738><li data-v-54c17738>Das Nutzungsrecht wird Ihnen unentgeltlich eingeräumt.</li><li data-v-54c17738> Das Landesamt für Denkmalpflege Baden-Württemberg im Regierungspräsidium Stuttgart übernimmt keine Haftung für Hard- oder Softwareschäden, die durch die Anwendung dieser Anwendung verursacht werden. </li><li data-v-54c17738> Es wird keinerlei Support für die Software gewährleistet. Das LAD und CSGIS haften nicht für Fahrlässigkeit. Eine Haftung für mittelbare Schäden oder die Wiederbeschaffung von Daten wird ausgeschlossen. </li><li data-v-54c17738> Die Seite verwendet keine Cookies. </li><li data-v-54c17738> Es werden keine Daten serverseitig verarbeitet oder gespeichert. </li></ol></div><div class="bg-white rounded-lg mb-3" data-v-54c17738><h4 class="text-xl font-bold text-gray-800 mb-1" data-v-54c17738>Projektteam</h4><ul class="space-y-1 text-gray-600" data-v-54c17738><li data-v-54c17738>Jonas Abele</li><li data-v-54c17738>Claus Brenner</li><li data-v-54c17738>José Canalejo</li><li data-v-54c17738>Toni Schönbuchner</li></ul></div><div class="bg-white rounded-lg" data-v-54c17738><h4 class="text-xl font-bold text-gray-800 mb-1" data-v-54c17738>Projektumsetzung</h4><div class="text-gray-600" data-v-54c17738><p class="font-medium" data-v-54c17738>CSGIS GbR</p><p data-v-54c17738>Am Eichbüchl 7</p><p data-v-54c17738>D - 82223 Eichenau</p><a href="http://www.csgis.de" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 mt-2 inline-block" data-v-54c17738> www.csgis.de </a></div></div>',4)]))):(0,s.Q3)("",!0),"help"===e.section?((0,s.uX)(),(0,s.CE)("div",w,a[2]||(a[2]=[(0,s.Fv)('<p class="text-lg text-gray-600 mb-8" data-v-54c17738>A web tool to create parser files for Survey2GIS.</p><div class="bg-blue-50 rounded-lg p-6 mb-8" data-v-54c17738><h4 class="text-xl font-semibold text-blue-900 mb-4" data-v-54c17738>🚀 Quick Start</h4><ol class="space-y-2 text-blue-900" data-v-54c17738><li data-v-54c17738>1. Start with the <span class="font-semibold" data-v-54c17738>Parser Section</span> at the top</li><li data-v-54c17738>2. Fill in the required fields (marked with <span class="text-red-500" data-v-54c17738>*</span>)</li><li data-v-54c17738>3. Add <span class="font-semibold" data-v-54c17738>Field Sections</span> for each data field</li><li data-v-54c17738>4. Download your configuration file</li></ol></div><div class="mb-8" data-v-54c17738><h4 class="text-xl font-semibold text-gray-900 mb-4" data-v-54c17738>Required Settings</h4><div class="bg-white shadow rounded-lg p-6 mb-6" data-v-54c17738><h4 class="text-lg font-semibold text-gray-900 mb-3" data-v-54c17738>⚙️ Parser Section</h4><p class="text-gray-600 mb-2" data-v-54c17738>These fields must be filled out:</p><ul class="space-y-2 text-gray-700" data-v-54c17738><li class="flex items-start" data-v-54c17738><span class="font-semibold min-w-[100px]" data-v-54c17738>Name:</span><span data-v-54c17738>Your configuration name</span></li><li class="flex items-start" data-v-54c17738><span class="font-semibold min-w-[100px]" data-v-54c17738>COORX:</span><span data-v-54c17738>Field name for X coordinates</span></li><li class="flex items-start" data-v-54c17738><span class="font-semibold min-w-[100px]" data-v-54c17738>COORY:</span><span data-v-54c17738>Field name for Y coordinates</span></li></ul></div><div class="bg-white shadow rounded-lg p-6" data-v-54c17738><h4 class="text-lg font-semibold text-gray-900 mb-3" data-v-54c17738>📝 Field Sections</h4><p class="text-gray-600 mb-3" data-v-54c17738>For each field you need to specify:</p><div class="space-y-4" data-v-54c17738><div data-v-54c17738><h4 class="font-semibold text-gray-900" data-v-54c17738>Name</h4><p class="text-gray-600" data-v-54c17738>Maximum 10 characters, letters, numbers, and underscores only</p></div><div data-v-54c17738><h4 class="font-semibold text-gray-900" data-v-54c17738>Type</h4><ul class="list-disc ml-5 text-gray-600" data-v-54c17738><li data-v-54c17738>integer (whole numbers)</li><li data-v-54c17738>double (decimal numbers)</li><li data-v-54c17738>text (text strings)</li></ul></div></div></div></div><div class="mb-8" data-v-54c17738><h4 class="text-xl font-semibold text-gray-900 mb-4" data-v-54c17738>Common Tasks</h4><div class="bg-white shadow rounded-lg p-6 mb-6" data-v-54c17738><h4 class="text-lg font-semibold text-gray-900 mb-3" data-v-54c17738>Creating a New Field</h4><ol class="space-y-2 text-gray-600" data-v-54c17738><li data-v-54c17738>1. Click the &quot;Add Field Section&quot; button</li><li data-v-54c17738>2. Fill in the required Name and Type</li><li data-v-54c17738>3. Adjust optional settings as needed</li></ol></div></div><div class="mt-12" data-v-54c17738><h4 class="text-xl font-semibold mb-3 text-green-600" data-v-54c17738>Parser Modes</h4><div class="bg-gray-50 p-6 rounded-lg" data-v-54c17738><h4 class="font-semibold text-gray-800 mb-1" data-v-54c17738>Understanding Geometry Processing</h4><div class="space-y-6" data-v-54c17738><div data-v-54c17738><h4 class="font-medium text-gray-700" data-v-54c17738>Key Limitations</h4><ul class="list-disc list-inside text-gray-600 ml-4" data-v-54c17738><li data-v-54c17738>Vertices of a single geometry must be in one file</li><li data-v-54c17738>Vertex measurements can only be interrupted by comments/empty lines</li><li data-v-54c17738>Available geometry types: point, line, polygon</li></ul></div><div data-v-54c17738><h4 class="font-medium text-gray-700" data-v-54c17738>Geometry Markers</h4><ul class="list-disc list-inside text-gray-600 ml-4" data-v-54c17738><li data-v-54c17738>Use special characters (e.g., @, $) to mark geometry types</li><li data-v-54c17738>Can be separate fields or added to existing fields</li><li data-v-54c17738>Must be declared in &quot;tag field&quot; option</li></ul></div><div data-v-54c17738><h4 class="font-medium text-gray-700" data-v-54c17738>Important Notes</h4><ul class="list-disc list-inside text-gray-600 ml-4" data-v-54c17738><li data-v-54c17738>Polygons are automatically closed - no need for duplicate vertices</li><li data-v-54c17738>Key field values are case-sensitive</li><li data-v-54c17738>Only one parser mode can be used per schema</li></ul></div></div><div class="mt-8 p-6 bg-blue-50 rounded-lg" data-v-54c17738><h4 class="font-semibold text-blue-800 mb-3 text-lg" data-v-54c17738>Important Considerations</h4><ul class="list-disc list-inside space-y-1 text-blue-700" data-v-54c17738><li data-v-54c17738>Field names are limited to 10 characters and specific valid characters</li><li data-v-54c17738>Separator characters must be unique and not overlap with other special characters</li><li data-v-54c17738>Empty fields may not work correctly with whitespace separators</li><li data-v-54c17738>Text replacement only works on exact matches of field content</li><li data-v-54c17738>Parser modes affect how geometry markers and key fields are interpreted</li></ul></div></div></div>',5)]))):(0,s.Q3)("",!0),"field"===e.section?((0,s.uX)(),(0,s.CE)("div",L,a[3]||(a[3]=[(0,s.Fv)('<div class="grid gap-6" data-v-54c17738><div class="bg-gray-50 p-6 rounded-lg" data-v-54c17738><h4 class="font-semibold text-gray-800 text-lg" data-v-54c17738>Required Field Options</h4><div class="mt-3 space-y-4" data-v-54c17738><div data-v-54c17738><h4 class="font-medium text-gray-700" data-v-54c17738>name (Required)</h4><p class="text-gray-600 mt-1" data-v-54c17738>The identifier for your field (max 10 characters)</p><ul class="list-disc list-inside text-gray-600 ml-4 mt-2" data-v-54c17738><li data-v-54c17738>Valid characters: letters, numbers, underscore</li><li data-v-54c17738>Case insensitive - stored in lowercase</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-54c17738> name = index_fld </code></div><div data-v-54c17738><h4 class="font-medium text-gray-700" data-v-54c17738>type (Required)</h4><p class="text-gray-600 mt-1" data-v-54c17738>Defines the data type of the field</p><ul class="list-disc list-inside text-gray-600 ml-4 mt-2" data-v-54c17738><li data-v-54c17738><span class="font-medium" data-v-54c17738>integer:</span> Whole numbers (-1, 0, 100)</li><li data-v-54c17738><span class="font-medium" data-v-54c17738>double:</span> Floating point numbers (-10.05, 0.0)</li><li data-v-54c17738><span class="font-medium" data-v-54c17738>text:</span> Generic text content</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-54c17738> type = integer </code></div><div data-v-54c17738><h4 class="font-medium text-gray-700" data-v-54c17738>separator</h4><p class="text-gray-600 mt-1" data-v-54c17738>Defines characters that separate fields (required except for last field)</p><ul class="list-disc list-inside text-gray-600 ml-4 mt-2" data-v-54c17738><li data-v-54c17738>Can use multiple characters</li><li data-v-54c17738>Special values: &quot;tab&quot; and &quot;space&quot;</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-54c17738> separator = ;<br data-v-54c17738> separator = tab<br data-v-54c17738> separator = space </code></div></div></div><div class="bg-gray-50 p-6 rounded-lg" data-v-54c17738><h3 class="font-semibold text-gray-800 text-lg" data-v-54c17738>Optional Field Settings</h3><div class="mt-3 space-y-4" data-v-54c17738><div data-v-54c17738><h4 class="font-medium text-gray-700" data-v-54c17738>empty allowed</h4><p class="text-gray-600 mt-1" data-v-54c17738>Controls whether fields can be empty</p><ul class="list-disc list-inside text-gray-600 ml-4 mt-2" data-v-54c17738><li data-v-54c17738>Default: off</li><li data-v-54c17738>Cannot be used with key or tag fields</li><li data-v-54c17738>Not compatible with merge_separators</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-54c17738> empty allowed = yes </code></div><div data-v-54c17738><h4 class="font-medium text-gray-700" data-v-54c17738>change case</h4><p class="text-gray-600 mt-1" data-v-54c17738>Converts text field content to upper or lower case</p><ul class="list-disc list-inside text-gray-600 ml-4 mt-2" data-v-54c17738><li data-v-54c17738>Values: lower, upper, none</li><li data-v-54c17738>Only applies to text fields</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-54c17738> change case = lower </code></div><div data-v-54c17738><h4 class="font-medium text-gray-700" data-v-54c17738>Text Replacement (@)</h4><p class="text-gray-600 mt-1" data-v-54c17738>Replaces codes or abbreviations with full text</p><ul class="list-disc list-inside text-gray-600 ml-4 mt-2" data-v-54c17738><li data-v-54c17738>Format: @old=new</li><li data-v-54c17738>Case insensitive matching</li><li data-v-54c17738>Max 254 characters for new text</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-54c17738> @ABB = Abbreviation<br data-v-54c17738> @P1 = Point of type 1 </code></div></div></div></div>',1)]))):(0,s.Q3)("",!0)]))}},C=a(1241);const R=(0,C.A)(_,[["__scopeId","data-v-54c17738"]]);var S=R;async function E(){try{const e=await fetch("https://raw.githubusercontent.com/survey2gis/parser-repository/main/parser.json");if(!e.ok)throw new Error("Failed to fetch parser list");const t=await e.json();return Object.entries(t).map((([e,t])=>({id:e,name:e,author:t.author,description:t.description,filename:t.filename})))}catch(e){throw console.error("Error fetching parser data:",e),e}}async function F(e){try{const t=e.replace(/^\.\//,""),a=await fetch(`https://raw.githubusercontent.com/survey2gis/parser-repository/main/${t}`);if(!a.ok)throw new Error("Failed to fetch parser content");return await a.text()}catch(t){throw console.error("Error fetching parser content:",t),t}}const q={class:"space-y-6"},O={class:"flex justify-between items-center"},$={class:"relative flex-grow max-w-md"},P={key:0,class:"text-sm"},V={key:0,class:"text-blue-600"},I={key:1,class:"text-red-600"},j={key:0,class:"space-y-4"},D=["onClick"],X={class:"flex justify-between items-start"},A={class:"space-y-1"},W={class:"font-medium text-gray-900"},T={class:"text-sm text-gray-600"},N={class:"text-xs text-gray-500"},K={key:0,class:"text-center py-8 text-gray-500"};var Q={__name:"ParserRepository",emits:["select-parser"],setup(e,{emit:t}){const a=(0,l.KR)([]),r=(0,l.KR)(""),n=(0,l.KR)(!0),d=(0,l.KR)(null),c=(0,s.EW)((()=>{if(!r.value)return a.value;const e=r.value.toLowerCase();return a.value.filter((t=>t.name.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.author.toLowerCase().includes(e)))}));(0,s.sV)((async()=>{try{a.value=await E(),n.value=!1}catch(e){d.value="Failed to load parser list",n.value=!1}}));const u=t,p=async e=>{try{n.value=!0,d.value=null;const t=await F(e.filename);u("select-parser",{name:e.name,content:t})}catch(t){d.value=`Failed to load parser: ${t.message}`}finally{n.value=!1}};return(e,t)=>((0,s.uX)(),(0,s.CE)("div",q,[(0,s.Lk)("div",O,[(0,s.Lk)("div",$,[(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.value=e),placeholder:"Search parsers...",class:"w-full px-4 py-2 pl-10 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,512),[[o.Jo,r.value]]),t[1]||(t[1]=(0,s.Lk)("i",{class:"pi pi-search absolute left-3 top-3 text-gray-400"},null,-1))]),n.value||d.value?((0,s.uX)(),(0,s.CE)("div",P,[n.value?((0,s.uX)(),(0,s.CE)("span",V,t[2]||(t[2]=[(0,s.Lk)("i",{class:"pi pi-spinner animate-spin mr-2"},null,-1),(0,s.eW)("Loading... ")]))):(0,s.Q3)("",!0),d.value?((0,s.uX)(),(0,s.CE)("span",I,[t[3]||(t[3]=(0,s.Lk)("i",{class:"pi pi-exclamation-circle mr-2"},null,-1)),(0,s.eW)((0,i.v_)(d.value),1)])):(0,s.Q3)("",!0)])):(0,s.Q3)("",!0)]),n.value||d.value?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",j,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(c.value,(e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,onClick:t=>p(e),class:"bg-white p-4 rounded-lg border hover:border-blue-500 cursor-pointer transition-all hover:shadow-md"},[(0,s.Lk)("div",X,[(0,s.Lk)("div",A,[(0,s.Lk)("h3",W,(0,i.v_)(e.name),1),(0,s.Lk)("p",T,(0,i.v_)(e.description),1),(0,s.Lk)("p",N,"Author: "+(0,i.v_)(e.author),1)]),t[4]||(t[4]=(0,s.Lk)("button",{class:"text-blue-600 hover:text-blue-800 px-3 py-1 rounded-full hover:bg-blue-50 transition-colors"},[(0,s.Lk)("i",{class:"pi pi-download mr-1"}),(0,s.eW)(" Load ")],-1))])],8,D)))),128)),0===c.value.length?((0,s.uX)(),(0,s.CE)("div",K," No parsers found matching your search. ")):(0,s.Q3)("",!0)]))]))}};const M=Q;var z=M;function U(){const e=(0,l.KR)(!1),t=(0,l.KR)({title:"",component:null,props:{}}),a=(0,l.KR)(!0),s=(0,l.KR)(!1),i=(0,l.KR)(!1),o=(0,l.KR)(""),r=a=>{const s={parser:"Parser Section Help",field:"Field Section Help",imprint:"Imprint",help:"Help"};t.value={title:s[a]||"",component:S,props:{section:a}},e.value=!0},n=(a,s,l={})=>{t.value={title:s,component:a,props:l},e.value=!0},d=()=>{e.value=!1},c=()=>{i.value=!1},u=()=>{s.value=!1},p=e=>{const t=o.value===e;o.value=t?null:e},v=()=>{t.value={title:"Parser Repository",component:z,props:{}},e.value=!0};return{showSidebar:e,sidebarConfig:t,showStartLabel:a,isDropdownOpen:s,showToast:i,openSection:o,showHelp:r,showComponent:n,closeSidebar:d,closeToast:c,closeDropdown:u,toggleSection:p,showRepository:v}}const H=e=>new Promise(((t,a)=>{const s=new FileReader;s.onload=e=>{try{t(e.target.result)}catch(s){a(s)}},s.onerror=e=>{a(new Error(e.target.error))},s.readAsText(e)}));function B({parserSection:e,fieldSections:t,hasStarted:a,openSection:s,resetParser:i,validationErrors:o,addFieldSection:r,validateField:n}){const d=(0,l.KR)(""),c=(0,l.KR)(!0),u=async e=>{const t=e.target.files[0];if(t)if(t.name.toLowerCase().endsWith(".ini")||t.name.toLowerCase().endsWith(".txt"))try{const e=await H(t);v(e),d.value=""}catch(a){d.value=`Error reading file: ${a.message}`}else d.value="Invalid file type. Please upload an .ini or .txt file";else d.value="No file selected"},p=()=>{const e="./parser/parser_desc_min.txt";fetch(e).then((e=>e.text())).then((e=>{v(e)})).catch((e=>{d.value=`Error loading sample data: ${e.message}`}))},v=l=>{try{i(),d.value="",o.value={},a.value=!0,s.value="parser";let c=null,u=[],p=-1;const v=l.split("\n");t.value=[];for(let a of v)if(a=a.trim(),a&&!a.startsWith("#"))if(a.startsWith("[")&&a.endsWith("]")){if("field"===c&&u.length>0&&t.value.length>0){const e=t.value[t.value.length-1],a=u.join("\n"),s=y(a);s&&(o.value[`field-${p}-aliases`]=s),e.aliases=a}c=a.slice(1,-1).toLowerCase(),u=[],"field"===c&&(p++,r())}else if(c)if(a.startsWith("@"))u.push(a);else if(a.includes("=")){const[s,...l]=a.split("="),i=s.trim(),o=l.join("=").trim();if("parser"===c)i in e.value&&(e.value[i]=o);else if("field"===c&&t.value.length>0){const e=t.value[t.value.length-1];i in e&&(e[i]=o)}}if("field"===c&&u.length>0&&t.value.length>0){const e=t.value[t.value.length-1],a=u.join("\n"),s=y(a);s&&(o.value[`field-${p}-aliases`]=s),e.aliases=a}t.value.forEach(((e,t)=>{n(t,e.name)}))}catch(c){d.value=`Error parsing INI content: ${c.message}`,console.error("Error parsing INI content:",c)}},m=()=>{document.querySelector("#file-upload").click()};return{fileError:d,uploadisDisabled:c,handleFileUpload:u,loadSampleData:p,triggerFileUpload:m,parseIniContent:v}}a(4603),a(7566),a(8721);function G(e,t){const a=(0,l.KR)(""),i=()=>{let l="[Parser]\n";const i=Object.entries(e.value).filter((([,e])=>""!==e)).map((([e,t])=>`${e} = ${t}`)).join("\n");l+=i,t.value.forEach((e=>{l+="\n\n[Field]\n";const t=Object.entries(e).filter((([e,t])=>"aliases"!==e&&""!==t)).map((([e,t])=>`${e} = ${t}`)).join("\n");if(l+=t,e.aliases){const a=e.aliases.split("\n").filter((e=>e.trim()&&!e.includes("error"))).map((e=>{if(e=e.trim(),e.startsWith("@")){const[t,...a]=e.split("="),s=t.trim(),l=a.join("=").trim();return`${s} = ${l}`}return e})).join("\n");a&&(l+=t?"\n":"",l+=a)}})),a.value=l+"\n",(0,s.dY)((()=>{const e=document.querySelector(".code__field");e&&u(e)}))};(0,s.wB)([e,t],i,{deep:!0});const o=()=>{const e=new Blob([a.value],{type:"text/plain"}),t=window.URL.createObjectURL(e),s=document.createElement("a");s.href=t,s.download="survey2gis_parser.ini",document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(t)};return{generatedIni:a,generateIni:i,downloadIni:o}}const Y={class:"w-1/2 bg-white h-full overflow-y-auto"},Z={class:"flex justify-between items-center p-4 border-b"},J={class:"text-xl font-semibold"},ee={class:"p-6"};var te={__name:"DynamicSidebar",props:{title:{type:String,required:!0},component:{type:[Object,String],required:!0},componentProps:{type:Object,default:()=>({})}},emits:["close"],setup(e){return(t,a)=>((0,s.uX)(),(0,s.CE)("div",{class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-end",onClick:a[2]||(a[2]=(0,o.D$)((e=>t.$emit("close")),["self"]))},[(0,s.Lk)("div",Y,[(0,s.Lk)("div",Z,[(0,s.Lk)("h2",J,(0,i.v_)(e.title),1),(0,s.Lk)("button",{onClick:a[0]||(a[0]=e=>t.$emit("close")),class:"text-gray-500 hover:text-gray-700"},a[3]||(a[3]=[(0,s.Lk)("i",{class:"pi pi-times"},null,-1)]))]),(0,s.Lk)("div",ee,[((0,s.uX)(),(0,s.Wv)((0,s.$y)(e.component),(0,s.v6)(e.componentProps,{onClose:a[1]||(a[1]=e=>t.$emit("close"))}),null,16))])])]))}};const ae=te;var se=ae;const le={class:"section"},ie={key:0,class:"flex justify-center py-8"},oe={class:"p-4"},re={class:"flex items-center"},ne={class:"text-lg font-semibold"},de={key:0,class:"pi pi-check-circle text-lg ml-2 text-green-500"},ce={key:1,class:"pi pi-times text-lg ml-2 text-red-500"},ue={class:"flex items-center"},pe={class:"mt-4"},ve={class:"text-gray-400 mb-4"},me={class:"grid grid-cols-2 gap-4"},ge={class:"flex items-center justify-between mb-1"},fe={class:"text-xs font-medium text-gray-700"},ye={key:0,class:"text-red-500"},he=["value","onInput"],be=["value"],xe=["value","onInput","placeholder"];function ke(e,t,a,l,r,n){return(0,s.uX)(),(0,s.CE)("div",le,[l.isStarted?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("div",ie,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.startNewParser&&l.startNewParser(...e)),class:"flex items-center gap-2 px-6 py-3 bg-blue-900 text-white rounded-full hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl"},[t[3]||(t[3]=(0,s.Lk)("i",{class:"pi pi-file-edit text-xl"},null,-1)),(0,s.eW)(" "+(0,i.v_)(e.$t("parser.startNew")),1)])])),(0,s.bo)((0,s.Lk)("div",{class:(0,i.C4)(["shadow mb-3",l.isParserSectionInvalid?"bg-red-100":"bg-white"])},[(0,s.Lk)("div",oe,[(0,s.Lk)("div",{class:"flex justify-between items-center cursor-pointer relative",onClick:t[2]||(t[2]=t=>e.$emit("toggle-section","parser"))},[(0,s.Lk)("div",re,[(0,s.Lk)("h3",ne,(0,i.v_)(e.$t("parser.section")),1),l.isParserSectionInvalid?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("i",de)),l.isParserSectionInvalid?((0,s.uX)(),(0,s.CE)("i",ce)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",ue,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=(0,o.D$)((t=>e.$emit("help","parser")),["stop"])),class:"text-blue-500 hover:text-blue-600"},t[4]||(t[4]=[(0,s.Lk)("i",{class:"pi pi-question-circle"},null,-1)])),(0,s.Lk)("i",{class:(0,i.C4)(["pi pi-chevron-down text-lg ml-2 transform transition-transform",{"rotate-180":a.isOpen}])},null,2)])]),(0,s.bo)((0,s.Lk)("div",pe,[(0,s.Lk)("p",ve,(0,i.v_)(e.$t("parser.required")),1),(0,s.Lk)("div",me,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.modelValue,((e,o)=>((0,s.uX)(),(0,s.CE)("div",{key:o,class:"mb-2"},[(0,s.Lk)("div",ge,[(0,s.Lk)("label",fe,[(0,s.eW)((0,i.v_)(o)+" ",1),a.mandatoryFields.includes(o)?((0,s.uX)(),(0,s.CE)("span",ye,"*")):(0,s.Q3)("",!0)])]),["key_unique","tag_strict"].includes(o)||"tagging_mode"===o?((0,s.uX)(),(0,s.CE)("select",{key:0,value:e,onInput:e=>l.updateField(o,e.target.value),class:(0,i.C4)(["w-full border rounded p-1 text-sm",{"border-red-500":a.mandatoryFields.includes(o)&&!e}])},[["key_unique","tag_strict"].includes(o)?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[t[5]||(t[5]=(0,s.Lk)("option",{value:"Yes"},"Yes",-1)),t[6]||(t[6]=(0,s.Lk)("option",{value:"No"},"No",-1))],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},(0,s.pI)(["min","max","end","none"],(e=>(0,s.Lk)("option",{key:e,value:e},(0,i.v_)(e),9,be))),64))],42,he)):((0,s.uX)(),(0,s.CE)("input",{key:1,value:e,onInput:e=>l.updateField(o,e.target.value),type:"text",class:(0,i.C4)(["w-full border rounded p-1 text-sm",{"border-red-500":a.mandatoryFields.includes(o)&&!e}]),placeholder:l.getDefaultValue(o)},null,42,xe))])))),128))])],512),[[o.aG,a.isOpen]])])],2),[[o.aG,l.isStarted]])])}var we={name:"ParserSection",props:{modelValue:{type:Object,required:!0},mandatoryFields:{type:Array,required:!0},isOpen:{type:Boolean,default:!1},started:{type:Boolean,default:!1}},emits:["update:modelValue","toggle-section","help","started"],setup(e,{emit:t}){const a=(0,l.KR)(e.started);(0,s.wB)((()=>e.started),(e=>{a.value=e}),{immediate:!0});const i=()=>{a.value=!0,t("started",!0),t("toggle-section","parser")},o=(0,s.EW)((()=>e.mandatoryFields.some((t=>!e.modelValue[t]||""===e.modelValue[t].trim())))),r=e=>{const t={comment_mark:"#",coor_x:"COORX",coor_y:"COORY",coor_z:"COORZ",geom_tag_point:".",geom_tag_line:"$",geom_tag_poly:"@",no_data:"-1"};return t[e]?`Default: ${t[e]}`:""},n=(a,s)=>{const l={...e.modelValue,[a]:s};t("update:modelValue",l)};return{isStarted:a,startNewParser:i,isParserSectionInvalid:o,getDefaultValue:r,updateField:n}}};const Le=(0,C.A)(we,[["render",ke]]);var _e=Le;const Ce={class:"p-4"},Re={class:"flex items-center"},Se={class:"text-lg font-semibold"},Ee={key:0,class:"pi pi-check-circle text-lg ml-2 text-green-500"},Fe={key:1,class:"pi pi-times text-lg ml-2 text-red-500"},qe={class:"ms-2 text-gray-400"},Oe={class:"flex items-center"},$e={class:"mt-4"},Pe={class:"grid grid-cols-2 gap-3"},Ve={class:"col-span-2"},Ie=["value"],je={key:0,class:"text-xs text-red-500 mt-1"},De={class:"col-span-2"},Xe=["value"],Ae={class:"mb-2"},We=["value"],Te={class:"mb-2"},Ne=["value"],Ke={class:"mb-2"},Qe=["value"],Me={class:"mb-2"},ze=["value"],Ue={class:"mb-2"},He=["value"],Be={class:"mb-2"},Ge=["value"],Ye={class:"mb-2"},Ze=["value"],Je={class:"mb-2"},et=["value"],tt={class:"mb-2"},at=["value"],st={class:"col-span-2 mb-2"},lt=["value"],it={key:0,class:"text-xs text-red-500 mt-1"};function ot(e,t,a,l,r,n){return(0,s.uX)(),(0,s.CE)("div",{class:(0,i.C4)(["shadow mb-3 rounded-lg section",l.isFieldSectionInvalid?"bg-red-100":"bg-white"])},[(0,s.Lk)("div",Ce,[(0,s.Lk)("div",{class:"flex justify-between items-center cursor-pointer",onClick:t[2]||(t[2]=t=>e.$emit("toggle-section",a.index))},[(0,s.Lk)("div",Re,[(0,s.Lk)("h3",Se,(0,i.v_)(e.$t("field.field_section"))+" "+(0,i.v_)(a.index+1),1),l.isFieldSectionInvalid?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("i",Ee)),l.isFieldSectionInvalid?((0,s.uX)(),(0,s.CE)("i",Fe)):(0,s.Q3)("",!0),(0,s.Lk)("span",qe,(0,i.v_)(a.modelValue.name),1)]),(0,s.Lk)("div",Oe,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(0,o.D$)((t=>e.$emit("help","field")),["stop"])),class:"text-blue-500 hover:text-blue-600 mr-2"},t[15]||(t[15]=[(0,s.Lk)("i",{class:"pi pi-question-circle"},null,-1)])),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(0,o.D$)((t=>e.$emit("remove",a.index)),["stop"])),class:"text-red-500"},t[16]||(t[16]=[(0,s.Lk)("i",{class:"pi pi-trash"},null,-1)])),(0,s.Lk)("i",{class:(0,i.C4)(["pi pi-chevron-down text-lg ml-2 transform transition-transform",{"rotate-180":a.isOpen}])},null,2)])]),(0,s.bo)((0,s.Lk)("div",$e,[t[37]||(t[37]=(0,s.Lk)("p",{class:"text-gray-400 mb-4"},[(0,s.eW)(" Fill out the required "),(0,s.Lk)("span",{class:"text-red-300"},"*"),(0,s.eW)(" field configuration below. ")],-1)),(0,s.Lk)("div",Pe,[(0,s.Lk)("div",Ve,[t[17]||(t[17]=(0,s.Lk)("label",{class:"text-xs font-medium text-gray-700"},[(0,s.eW)(" Name "),(0,s.Lk)("span",{class:"text-red-500"},"*")],-1)),(0,s.Lk)("input",{value:a.modelValue.name,onInput:t[3]||(t[3]=e=>l.updateField("name",e.target.value)),type:"text",class:(0,i.C4)(["w-full border rounded p-1 text-sm",{"border-red-500":!a.modelValue.name||a.validationErrors[`field-${a.index}`]}])},null,42,Ie),a.validationErrors[`field-${a.index}`]?((0,s.uX)(),(0,s.CE)("p",je,(0,i.v_)(a.validationErrors[`field-${a.index}`].join(", ")),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",De,[t[18]||(t[18]=(0,s.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Info",-1)),(0,s.Lk)("textarea",{value:a.modelValue.info,onInput:t[4]||(t[4]=e=>l.updateField("info",e.target.value)),class:"w-full border rounded p-1 text-sm",rows:"2"},null,40,Xe)]),(0,s.Lk)("div",Ae,[t[20]||(t[20]=(0,s.Lk)("label",{class:"text-xs font-medium text-gray-700"},[(0,s.eW)(" Type "),(0,s.Lk)("span",{class:"text-red-500"},"*")],-1)),(0,s.Lk)("select",{value:a.modelValue.type,onChange:t[5]||(t[5]=e=>l.updateField("type",e.target.value)),class:"w-full border rounded p-1 text-sm"},t[19]||(t[19]=[(0,s.Lk)("option",{value:"integer"},"integer",-1),(0,s.Lk)("option",{value:"double"},"double",-1),(0,s.Lk)("option",{value:"text"},"text",-1)]),40,We)]),(0,s.Lk)("div",Te,[t[22]||(t[22]=(0,s.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Change Case",-1)),(0,s.Lk)("select",{value:a.modelValue.change_case,onChange:t[6]||(t[6]=e=>l.updateField("change_case",e.target.value)),class:"w-full border rounded p-1 text-sm"},t[21]||(t[21]=[(0,s.Lk)("option",{value:"lower"},"lower",-1),(0,s.Lk)("option",{value:"upper"},"upper",-1)]),40,Ne)]),(0,s.Lk)("div",Ke,[t[24]||(t[24]=(0,s.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Empty Allowed",-1)),(0,s.Lk)("select",{value:a.modelValue.empty_allowed,onChange:t[7]||(t[7]=e=>l.updateField("empty_allowed",e.target.value)),class:"w-full border rounded p-1 text-sm"},t[23]||(t[23]=[(0,s.Lk)("option",{value:"yes"},"yes",-1),(0,s.Lk)("option",{value:"no"},"no",-1)]),40,Qe)]),(0,s.Lk)("div",Me,[t[26]||(t[26]=(0,s.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Merge Separators",-1)),(0,s.Lk)("select",{value:a.modelValue.merge_separators,onChange:t[8]||(t[8]=e=>l.updateField("merge_separators",e.target.value)),class:"w-full border rounded p-1 text-sm"},t[25]||(t[25]=[(0,s.Lk)("option",{value:"yes"},"yes",-1),(0,s.Lk)("option",{value:"no"},"no",-1)]),40,ze)]),(0,s.Lk)("div",Ue,[t[28]||(t[28]=(0,s.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Persistent",-1)),(0,s.Lk)("select",{value:a.modelValue.persistent,onChange:t[9]||(t[9]=e=>l.updateField("persistent",e.target.value)),class:"w-full border rounded p-1 text-sm"},t[27]||(t[27]=[(0,s.Lk)("option",{value:"yes"},"yes",-1),(0,s.Lk)("option",{value:"no"},"no",-1)]),40,He)]),(0,s.Lk)("div",Be,[t[30]||(t[30]=(0,s.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Skip",-1)),(0,s.Lk)("select",{value:a.modelValue.skip,onChange:t[10]||(t[10]=e=>l.updateField("skip",e.target.value)),class:"w-full border rounded p-1 text-sm"},t[29]||(t[29]=[(0,s.Lk)("option",{value:"yes"},"yes",-1),(0,s.Lk)("option",{value:"no"},"no",-1)]),40,Ge)]),(0,s.Lk)("div",Ye,[t[32]||(t[32]=(0,s.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Unique",-1)),(0,s.Lk)("select",{value:a.modelValue.unique,onChange:t[11]||(t[11]=e=>l.updateField("unique",e.target.value)),class:"w-full border rounded p-1 text-sm"},t[31]||(t[31]=[(0,s.Lk)("option",{value:"yes"},"yes",-1),(0,s.Lk)("option",{value:"no"},"no",-1)]),40,Ze)]),(0,s.Lk)("div",Je,[t[33]||(t[33]=(0,s.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Quotation",-1)),(0,s.Lk)("input",{value:a.modelValue.quotation,onInput:t[12]||(t[12]=e=>l.updateField("quotation",e.target.value)),type:"text",class:"w-full border rounded p-1 text-sm",placeholder:"'"},null,40,et)]),(0,s.Lk)("div",tt,[t[34]||(t[34]=(0,s.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Separator",-1)),(0,s.Lk)("input",{value:a.modelValue.separator,onInput:t[13]||(t[13]=e=>l.updateField("separator",e.target.value)),type:"text",class:"w-full border rounded p-1 text-sm",placeholder:";"},null,40,at)]),(0,s.Lk)("div",st,[t[35]||(t[35]=(0,s.Lk)("div",{class:"flex justify-between items-center"},[(0,s.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Aliases"),(0,s.Lk)("span",{class:"text-xs text-gray-400"},"Optional")],-1)),(0,s.Lk)("textarea",{value:a.modelValue.aliases,onInput:t[14]||(t[14]=e=>l.updateField("aliases",e.target.value)),class:(0,i.C4)(["w-full border rounded p-1 text-sm font-mono",{"border-red-500":e.aliasesValidationError||a.validationErrors[`field-${a.index}-aliases`]}]),rows:"4",placeholder:"@key=value\n@key2=value2\n@key3=value3",spellcheck:"false"},null,42,lt),e.aliasesValidationError||a.validationErrors[`field-${a.index}-aliases`]?((0,s.uX)(),(0,s.CE)("p",it,(0,i.v_)(e.aliasesValidationError||a.validationErrors[`field-${a.index}-aliases`]),1)):(0,s.Q3)("",!0),t[36]||(t[36]=(0,s.Lk)("p",{class:"text-xs text-gray-500 mt-1"}," Add one alias per line using the format @key=value ",-1))])])],512),[[o.aG,a.isOpen]])])],2)}var rt={name:"FieldSection",props:{modelValue:{type:Object,required:!0,default:()=>({change_case:"lower",empty_allowed:"no",info:"",merge_separators:"no",name:"",persistent:"no",quotation:"'",skip:"no",separator:";",type:"text",unique:"no",aliases:""})},index:{type:Number,required:!0},isOpen:{type:Boolean,default:!1},validationErrors:{type:Object,default:()=>({})},mandatoryFields:{type:Array,default:()=>["name","type"]}},emits:["update:modelValue","remove","toggle-section","help","validate"],setup(e,{emit:t}){const a=(0,l.KR)(null),i=(s,l)=>{const i={...e.modelValue,[s]:l};t("update:modelValue",i),a.value&&clearTimeout(a.value),"aliases"===s?a.value=setTimeout((()=>{t("validate",e.index,"aliases",l)}),300):"name"===s&&t("validate",e.index,"name",l)};(0,s.hi)((()=>{a.value&&clearTimeout(a.value)}));const o=(0,s.EW)((()=>{const t=Object.keys(e.validationErrors).some((t=>t.startsWith(`field-${e.index}`))),a=e.mandatoryFields.some((t=>!e.modelValue[t]||""===e.modelValue[t].trim()));return t||a}));return{isFieldSectionInvalid:o,updateField:i}}};const nt=(0,C.A)(rt,[["render",ot]]);var dt=nt;const ct={class:"flex justify-center my-6"};function ut(e,t,a,l,o,r){return(0,s.uX)(),(0,s.CE)("div",ct,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("add")),class:"flex items-center gap-2 px-6 py-3 bg-gray-700 text-white rounded-full hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl"},[t[1]||(t[1]=(0,s.Lk)("i",{class:"pi pi-plus text-xl"},null,-1)),(0,s.eW)(" "+(0,i.v_)(e.$t("field.add_new_field_section")),1)])])}var pt={name:"AddFieldButton",emits:["add"]};const vt=(0,C.A)(pt,[["render",ut]]);var mt=vt;const gt={class:"flex h-screen flex-col"},ft={class:"bg-white p-4 border-b border-grey"},yt={class:"mx-2 flex justify-between items-center"},ht={class:"flex items-center gap-6"},bt={class:"relative"},xt={class:"text-gray-700 font-medium px-2"},kt={key:0,class:"absolute top-full left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-10 w-full overflow-hidden"},wt={class:"py-1"},Lt={class:"text-gray-700"},_t={class:"text-gray-700"},Ct={class:"text-gray-700"},Rt=["disabled"],St={class:"flex items-center gap-4"},Et={class:"flex flex-1 overflow-hidden"},Ft={class:"w-1/2 p-4 bg-gray-100 overflow-auto left-panel ps-6 pe-6 pt-6",id:"left_panel"},qt={class:"w-1/2 flex flex-col pb-4 ps-4",id:"right_panel"},Ot={class:"flex-grow overflow-auto code__wrapper"},$t={class:"rounded-lg"},Pt={class:"language-ini code__field"},Vt={class:"flex items-start"},It={class:"flex-1 mr-4"},jt={class:"text-gray-900"};var Dt={__name:"App",setup(e){c();const{t:t}=(0,r.s9)(),a=(0,l.KR)(!1),{parserSection:n,resetParser:d}=g(),u=async({content:e})=>{try{await j(e),E(),q()}catch(t){console.error("Error loading parser:",t)}},{fieldSections:v,validationErrors:m,validateField:f,addFieldSection:y,removeFieldSection:b}=h(),{showSidebar:x,showRepository:k,sidebarConfig:w,showStartLabel:L,isDropdownOpen:_,showToast:C,openSection:R,showHelp:S,closeSidebar:E,closeToast:F,closeDropdown:q,toggleSection:O}=U(),{uploadisDisabled:$,handleFileUpload:P,loadSampleData:V,triggerFileUpload:I,parseIniContent:j}=B({parserSection:n,fieldSections:v,hasStarted:a,openSection:R,resetParser:d,validationErrors:m,addFieldSection:y,validateField:f}),{generatedIni:D,downloadIni:X}=G(n,v),A=(0,s.EW)((()=>{const e=Object.entries(n.value).filter((([e])=>p.parser.includes(e))).every((([,e])=>e&&""!==e.trim())),t=v.value.length>0&&!Object.keys(m.value).length&&v.value.every((e=>e.name&&""!==e.name.trim()&&e.type&&""!==e.type.trim()));return e&&t}));return(0,s.sV)((()=>{C.value=!0,setTimeout((()=>{F()}),1e4)})),(e,r)=>{const d=(0,s.gN)("click-outside");return(0,s.uX)(),(0,s.CE)("div",gt,[(0,s.Lk)("div",ft,[(0,s.Lk)("div",yt,[r[18]||(r[18]=(0,s.Lk)("h1",{class:"text-lg font-semibold"},[(0,s.Lk)("i",{class:"pi pi-bullseye me-3 text-black-500"}),(0,s.Lk)("a",{href:"/"},[(0,s.eW)("Survey2GIS Parser Generator "),(0,s.Lk)("span",{class:"text-red-500 italic"},"DEV")])],-1)),(0,s.Lk)("div",ht,[(0,s.bo)(((0,s.uX)(),(0,s.CE)("div",bt,[(0,s.Lk)("button",{onClick:r[0]||(r[0]=e=>_.value=!(0,l.R1)(_)),class:"px-4 py-2 border border-gray-300 flex items-center gap-2 bg-white hover:bg-gray-50 w-full transition-colors duration-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[(0,s.Lk)("span",xt,(0,i.v_)((0,l.R1)(t)("navigation.loadParser")),1),(0,s.Lk)("i",{class:(0,i.C4)(["pi pi-chevron-down text-gray-500 transition-transform duration-200",{"rotate-180":(0,l.R1)(_)}])},null,2)]),(0,l.R1)(_)?((0,s.uX)(),(0,s.CE)("div",kt,[(0,s.Lk)("div",wt,[(0,s.Lk)("label",{for:"file-upload",class:(0,i.C4)(["flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer w-full transition-colors duration-150",{"opacity-50 cursor-not-allowed":(0,l.R1)($)}]),onClick:r[1]||(r[1]=(0,o.D$)((e=>!(0,l.R1)($)&&(0,l.R1)(I)()),["prevent"]))},[r[13]||(r[13]=(0,s.Lk)("i",{class:"pi pi-upload text-blue-600 me-3"},null,-1)),(0,s.Lk)("span",Lt,(0,i.v_)((0,l.R1)(t)("navigation.uploadParser")),1)],2),(0,s.Lk)("button",{class:(0,i.C4)(["w-full text-left flex items-center px-4 py-3 hover:bg-gray-50 transition-colors duration-150",{"opacity-50 cursor-not-allowed":(0,l.R1)($)}]),onClick:r[2]||(r[2]=e=>!(0,l.R1)($)&&(0,l.R1)(V)())},[r[14]||(r[14]=(0,s.Lk)("i",{class:"pi pi-cloud-download text-blue-600 me-3"},null,-1)),(0,s.Lk)("span",_t,(0,i.v_)((0,l.R1)(t)("navigation.loadSample")),1)],2),(0,s.Lk)("button",{class:(0,i.C4)(["w-full text-left flex items-center px-4 py-3 hover:bg-gray-50 transition-colors duration-150",{"opacity-50 cursor-not-allowed":(0,l.R1)($)}]),onClick:r[3]||(r[3]=e=>!(0,l.R1)($)&&(0,l.R1)(k)())},[r[15]||(r[15]=(0,s.Lk)("i",{class:"pi pi-database text-blue-600 me-3"},null,-1)),(0,s.Lk)("span",Ct,(0,i.v_)((0,l.R1)(t)("navigation.parser_repository")),1)],2)])])):(0,s.Q3)("",!0),(0,s.Lk)("input",{type:"file",accept:".ini,.txt",onChange:r[4]||(r[4]=(...e)=>(0,l.R1)(P)&&(0,l.R1)(P)(...e)),class:"hidden",ref:"fileInput",id:"file-upload"},null,544)])),[[d,(0,l.R1)(q)]]),(0,s.Lk)("button",{onClick:r[5]||(r[5]=(...e)=>(0,l.R1)(X)&&(0,l.R1)(X)(...e)),disabled:!A.value,class:(0,i.C4)(["py-2 px-4 flex items-center gap-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",A.value?"bg-green-600 hover:bg-green-700 text-white shadow-sm focus:ring-green-500":"bg-gray-100 border border-gray-300 text-gray-400 cursor-not-allowed"])},[r[16]||(r[16]=(0,s.Lk)("i",{class:"pi pi-download"},null,-1)),(0,s.Lk)("span",null,(0,i.v_)((0,l.R1)(t)("navigation.download")),1)],10,Rt),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":r[6]||(r[6]=t=>e.$i18n.locale=t),class:(0,i.C4)(["px-3 py-2 border border-gray-300 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500",{hidden:(0,l.R1)($)}])},r[17]||(r[17]=[(0,s.Lk)("option",{value:"en"},"En",-1),(0,s.Lk)("option",{value:"de"},"De",-1)]),2),[[o.u1,e.$i18n.locale]]),(0,s.Lk)("div",St,[(0,s.Lk)("button",{onClick:r[7]||(r[7]=(0,o.D$)((e=>(0,l.R1)(S)("imprint")),["stop"])),class:"text-gray-600 hover:text-gray-900 transition-colors duration-200 text-sm font-medium"},(0,i.v_)((0,l.R1)(t)("navigation.imprint")),1),(0,s.Lk)("button",{onClick:r[8]||(r[8]=(0,o.D$)((e=>(0,l.R1)(S)("help")),["stop"])),class:"text-gray-600 hover:text-gray-900 transition-colors duration-200 text-sm font-medium"},(0,i.v_)((0,l.R1)(t)("navigation.help")),1)])])])]),(0,s.Lk)("div",Et,[(0,s.Lk)("div",Ft,[(0,s.bF)(_e,{modelValue:(0,l.R1)(n),"onUpdate:modelValue":r[9]||(r[9]=e=>(0,l.i9)(n)?n.value=e:null),"mandatory-fields":(0,l.R1)(p).parser,"is-open":"parser"===(0,l.R1)(R),"show-start-label":(0,l.R1)(L),started:a.value,onToggleSection:(0,l.R1)(O),onHelp:(0,l.R1)(S),onStarted:r[10]||(r[10]=e=>a.value=!0)},null,8,["modelValue","mandatory-fields","is-open","show-start-label","started","onToggleSection","onHelp"]),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)((0,l.R1)(v),((e,t)=>((0,s.uX)(),(0,s.Wv)(dt,{key:t,modelValue:(0,l.R1)(v)[t],"onUpdate:modelValue":e=>(0,l.R1)(v)[t]=e,index:t,"is-open":(0,l.R1)(R)===t,"validation-errors":(0,l.R1)(m),"mandatory-fields":(0,l.R1)(p).field,onToggleSection:(0,l.R1)(O),onHelp:(0,l.R1)(S),onRemove:(0,l.R1)(b),onValidate:(0,l.R1)(f)},null,8,["modelValue","onUpdate:modelValue","index","is-open","validation-errors","mandatory-fields","onToggleSection","onHelp","onRemove","onValidate"])))),128)),a.value?((0,s.uX)(),(0,s.Wv)(mt,{key:0,onAdd:(0,l.R1)(y)},null,8,["onAdd"])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",qt,[(0,s.Lk)("div",Ot,[(0,s.Lk)("pre",$t,[(0,s.Lk)("code",Pt,(0,i.v_)((0,l.R1)(D)),1)])])])]),(0,l.R1)(x)?((0,s.uX)(),(0,s.Wv)(se,{key:0,title:(0,l.R1)(w).title,component:(0,l.R1)(w).component,"component-props":{...(0,l.R1)(w).props,onSelectParser:u},onClose:(0,l.R1)(E)},null,8,["title","component","component-props","onClose"])):(0,s.Q3)("",!0),(0,l.R1)(C)?((0,s.uX)(),(0,s.CE)("div",{key:1,class:(0,i.C4)(["fixed bottom-4 right-4 bg-white shadow-lg rounded-lg p-4 max-w-md border border-gray-200 transform transition-all duration-500 ease-in-out z-50",(0,l.R1)(C)?"translate-y-0 opacity-100":"translate-y-full opacity-0"])},[(0,s.Lk)("div",Vt,[(0,s.Lk)("div",It,[(0,s.Lk)("p",jt,[r[19]||(r[19]=(0,s.eW)(" 👋 Welcome! New here? Start ")),(0,s.Lk)("a",{href:"#",onClick:r[11]||(r[11]=(0,o.D$)((e=>(0,l.R1)(S)("help")),["prevent"])),class:"text-blue-600 hover:text-blue-800 underline cursor-pointer"}," here ")])]),(0,s.Lk)("button",{onClick:r[12]||(r[12]=(...e)=>(0,l.R1)(F)&&(0,l.R1)(F)(...e)),class:"text-gray-400 hover:text-gray-600 transition-colors"}," ✕ ")])],2)):(0,s.Q3)("",!0)])}}};const Xt=Dt;var At=Xt,Wt={add_new_field_section:"Neue Feld Sektion anlegen",field_section:"Feld Bereich"},Tt={language:"Sprache",loadParser:"Parser-Datei laden",uploadParser:"Parser-Datei hochladen",loadSample:"Beispieldaten laden",download:"Parser-Datei herunterladen",imprint:"Impressum",help:"Hilfe",parser_repository:"Parser Verzeichnis"},Nt={startNew:"Neue Parser-Datei erstellen",section:"Parser Bereich",required:"Füllen Sie die erforderlichen * Feldkonfigurationen unten aus.",code_comment:"Hier erscheinst eine Voransicht des generierten Parser Codes"},Kt={navigation:Tt,parser:Nt,field:Wt},Qt={add_new_field_section:"Add New Field Section",field_section:"Field section"},Mt={language:"Language",loadParser:"Load Parser File",uploadParser:"Upload parser file",loadSample:"Load sample data",download:"Download parser file",imprint:"Imprint",help:"Help",parser_repository:"Parser Repository"},zt={startNew:"Start New Parser File",section:"Parser Section",required:"Fill out the required * field configuration below.",code_comment:"you will see a preview of your parser file here"},Ut={navigation:Mt,parser:zt,field:Qt},Ht=(0,r.hU)({legacy:!1,locale:"en",fallbackLocale:"en",messages:{en:Ut,de:Kt}});const Bt=(0,o.Ef)(At);Bt.use(Ht),Bt.mount("#app")}},t={};function a(s){var l=t[s];if(void 0!==l)return l.exports;var i=t[s]={exports:{}};return e[s].call(i.exports,i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,s,l,i){if(!s){var o=1/0;for(c=0;c<e.length;c++){s=e[c][0],l=e[c][1],i=e[c][2];for(var r=!0,n=0;n<s.length;n++)(!1&i||o>=i)&&Object.keys(a.O).every((function(e){return a.O[e](s[n])}))?s.splice(n--,1):(r=!1,i<o&&(o=i));if(r){e.splice(c--,1);var d=l();void 0!==d&&(t=d)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[s,l,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,i,o=s[0],r=s[1],n=s[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(l in r)a.o(r,l)&&(a.m[l]=r[l]);if(n)var c=n(a)}for(t&&t(s);d<o.length;d++)i=o[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(c)},s=self["webpackChunkparser_generator"]=self["webpackChunkparser_generator"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(1193)}));s=a.O(s)})();
//# sourceMappingURL=app.8d2abaa2.js.map