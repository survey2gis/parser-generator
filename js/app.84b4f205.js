(function(){"use strict";var e={6694:function(e,a,t){var l=t(6768),s=t(4232),i=t(5130);const o={class:"flex h-screen flex-col"},n={class:"bg-white p-4 border-b border-grey"},r={class:"mx-2 flex justify-between items-center"},d={class:"flex items-center gap-6"},c={class:"relative"},u={class:"text-gray-700 font-medium px-2"},p={key:0,class:"absolute top-full left-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg z-10 w-full overflow-hidden"},v={class:"py-1"},m={class:"text-gray-700"},g={class:"text-gray-700"},f=["disabled"],y={class:"flex items-center gap-4"},h={class:"flex flex-1 overflow-hidden"},b={class:"w-1/2 p-4 bg-gray-100 overflow-auto left-panel ps-6 pe-6 pt-6",id:"left_panel"},x={class:"w-1/2 flex flex-col pb-4 ps-4",id:"right_panel"},k={class:"flex-grow overflow-auto code__wrapper"},w={class:"rounded-lg"},S={class:"language-ini code__field"},L={class:"flex items-start"},C={class:"flex-1 mr-4"},_={class:"text-gray-900"};function E(e,a,t,E,F,q){const O=(0,l.g2)("ParserSection"),$=(0,l.g2)("FieldSection"),I=(0,l.g2)("AddFieldButton"),V=(0,l.g2)("HelpSidebar"),D=(0,l.gN)("click-outside");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.Lk)("div",n,[(0,l.Lk)("div",r,[a[17]||(a[17]=(0,l.Lk)("h1",{class:"text-lg font-semibold"},[(0,l.Lk)("i",{class:"pi pi-bullseye me-3 text-black-500"}),(0,l.Lk)("a",{href:"/"},"Survey2GIS Parser Generator")],-1)),(0,l.Lk)("div",d,[(0,l.bo)(((0,l.uX)(),(0,l.CE)("div",c,[(0,l.Lk)("button",{onClick:a[0]||(a[0]=a=>e.isDropdownOpen=!e.isDropdownOpen),class:"px-4 py-2 border border-gray-300 flex items-center gap-2 bg-white hover:bg-gray-50 w-full transition-colors duration-200 shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},[(0,l.Lk)("span",u,(0,s.v_)(e.$t("navigation.loadParser")),1),(0,l.Lk)("i",{class:(0,s.C4)(["pi pi-chevron-down text-gray-500 transition-transform duration-200",{"rotate-180":e.isDropdownOpen}])},null,2)]),e.isDropdownOpen?((0,l.uX)(),(0,l.CE)("div",p,[(0,l.Lk)("div",v,[(0,l.Lk)("label",{for:"file-upload",class:(0,s.C4)(["flex items-center px-4 py-3 hover:bg-gray-50 cursor-pointer w-full transition-colors duration-150",{"opacity-50 cursor-not-allowed":E.uploadisDisabled}]),onClick:a[1]||(a[1]=(0,i.D$)((a=>E.uploadisDisabled&&e.triggerFileUpload),["prevent"]))},[a[13]||(a[13]=(0,l.Lk)("i",{class:"pi pi-upload text-blue-600 me-3"},null,-1)),(0,l.Lk)("span",m,(0,s.v_)(e.$t("navigation.uploadParser")),1)],2),(0,l.Lk)("button",{class:(0,s.C4)(["w-full text-left flex items-center px-4 py-3 hover:bg-gray-50 transition-colors duration-150",{"opacity-50 cursor-not-allowed":E.uploadisDisabled}]),onClick:a[2]||(a[2]=a=>E.uploadisDisabled&&e.loadSampleData)},[a[14]||(a[14]=(0,l.Lk)("i",{class:"pi pi-cloud-download text-blue-600 me-3"},null,-1)),(0,l.Lk)("span",g,(0,s.v_)(e.$t("navigation.loadSample")),1)],2)])])):(0,l.Q3)("",!0),(0,l.Lk)("input",{type:"file",accept:".ini,.txt",onChange:a[3]||(a[3]=(...a)=>e.handleFileUpload&&e.handleFileUpload(...a)),class:"hidden",ref:"fileInput",id:"file-upload"},null,544)])),[[D,e.closeDropdown]]),(0,l.Lk)("button",{onClick:a[4]||(a[4]=(...e)=>E.downloadIni&&E.downloadIni(...e)),disabled:!E.isFormValid,class:(0,s.C4)(["py-2 px-4 flex items-center gap-2 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2",E.isFormValid?"bg-green-600 hover:bg-green-700 text-white shadow-sm focus:ring-green-500":"bg-gray-100 border border-gray-300 text-gray-400 cursor-not-allowed"])},[a[15]||(a[15]=(0,l.Lk)("i",{class:"pi pi-download"},null,-1)),(0,l.Lk)("span",null,(0,s.v_)(e.$t("navigation.download")),1)],10,f),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":a[5]||(a[5]=a=>e.$i18n.locale=a),class:"px-3 py-2 border border-gray-300 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500"},a[16]||(a[16]=[(0,l.Lk)("option",{value:"en"},"En",-1),(0,l.Lk)("option",{value:"de"},"De",-1)]),512),[[i.u1,e.$i18n.locale]]),(0,l.Lk)("div",y,[(0,l.Lk)("button",{onClick:a[6]||(a[6]=(0,i.D$)((a=>e.showHelp("imprint")),["stop"])),class:"text-gray-600 hover:text-gray-900 transition-colors duration-200 text-sm font-medium"},(0,s.v_)(e.$t("navigation.imprint")),1),(0,l.Lk)("button",{onClick:a[7]||(a[7]=(0,i.D$)((a=>e.showHelp("help")),["stop"])),class:"text-gray-600 hover:text-gray-900 transition-colors duration-200 text-sm font-medium"},(0,s.v_)(e.$t("navigation.help")),1)])])])]),(0,l.Lk)("div",h,[(0,l.Lk)("div",b,[(0,l.bF)(O,{modelValue:e.parserSection,"onUpdate:modelValue":a[8]||(a[8]=a=>e.parserSection=a),"mandatory-fields":E.mandatoryFields.parser,"is-open":"parser"===e.openSection,"show-start-label":e.showStartLabel,started:E.hasStarted,onToggleSection:e.toggleSection,onHelp:e.showHelp,onStarted:a[9]||(a[9]=e=>E.hasStarted=!0)},null,8,["modelValue","mandatory-fields","is-open","show-start-label","started","onToggleSection","onHelp"]),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.fieldSections,((a,t)=>((0,l.uX)(),(0,l.Wv)($,{key:t,modelValue:e.fieldSections[t],"onUpdate:modelValue":a=>e.fieldSections[t]=a,index:t,"is-open":e.openSection===t,"validation-errors":e.validationErrors,"mandatory-fields":E.mandatoryFields.field,onToggleSection:e.toggleSection,onHelp:e.showHelp,onRemove:e.removeFieldSection,onValidate:e.validateField},null,8,["modelValue","onUpdate:modelValue","index","is-open","validation-errors","mandatory-fields","onToggleSection","onHelp","onRemove","onValidate"])))),128)),E.hasStarted?((0,l.uX)(),(0,l.Wv)(I,{key:0,onAdd:e.addFieldSection},null,8,["onAdd"])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",x,[(0,l.Lk)("div",k,[(0,l.Lk)("pre",w,[(0,l.Lk)("code",S,(0,s.v_)(e.generatedIni),1)])])])]),e.showHelpSidebar?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-end",onClick:a[10]||(a[10]=(0,i.D$)(((...a)=>e.closeHelp&&e.closeHelp(...a)),["self"]))},[(0,l.bF)(V,{"is-visible":e.showHelpSidebar,section:e.currentHelpSection,onClose:e.closeHelp},null,8,["is-visible","section","onClose"])])):(0,l.Q3)("",!0),e.showToast?((0,l.uX)(),(0,l.CE)("div",{key:1,class:(0,s.C4)(["fixed bottom-4 right-4 bg-white shadow-lg rounded-lg p-4 max-w-md border border-gray-200 transform transition-all duration-500 ease-in-out z-50",e.showToast?"translate-y-0 opacity-100":"translate-y-full opacity-0"])},[(0,l.Lk)("div",L,[(0,l.Lk)("div",C,[(0,l.Lk)("p",_,[a[18]||(a[18]=(0,l.eW)(" üëã Welcome! New here? Start ")),(0,l.Lk)("a",{href:"#",onClick:a[11]||(a[11]=(0,i.D$)((a=>e.showHelp("help")),["prevent"])),class:"text-blue-600 hover:text-blue-800 underline cursor-pointer"}," here ")])]),(0,l.Lk)("button",{onClick:a[12]||(a[12]=(...a)=>e.closeToast&&e.closeToast(...a)),class:"text-gray-400 hover:text-gray-600 transition-colors"}," ‚úï ")])],2)):(0,l.Q3)("",!0)])}t(4114),t(7642),t(8004),t(3853),t(5876),t(2475),t(5024),t(1698),t(4603),t(7566),t(8721);const F={class:"w-1/2 bg-white h-full p-4 overflow-y-auto"},q={class:"flex justify-between items-center mb-1"},O={class:"text-xl font-semibold"},$={key:0,class:"prose prose-sm"},I={key:1,class:"prose prose-sm"},V={key:2,class:"prose prose-sm"},D={key:3,class:"prose prose-sm"};function R(e,a,t,o,n,r){return t.isVisible?((0,l.uX)(),(0,l.CE)("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-end",onClick:a[1]||(a[1]=(0,i.D$)(((...e)=>r.close&&r.close(...e)),["self"]))},[(0,l.Lk)("div",F,[(0,l.Lk)("div",q,[(0,l.Lk)("h1",O,(0,s.v_)(r.title),1),(0,l.Lk)("button",{onClick:a[0]||(a[0]=(...e)=>r.close&&r.close(...e)),class:"text-gray-500 hover:text-gray-700"},a[2]||(a[2]=[(0,l.Lk)("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[(0,l.Lk)("path",{d:"M6 18L18 6M6 6l12 12"})],-1)]))]),"parser"===t.section?((0,l.uX)(),(0,l.CE)("div",$,a[3]||(a[3]=[(0,l.Fv)('<div class="mb-8" data-v-5eec3ea8><p class="text-gray-600 mb-1" data-v-5eec3ea8> This guide explains how to configure the parser section [Parser] in your configuration file. Each option controls specific aspects of how your input data is processed and interpreted. </p></div><div class="space-y-8" data-v-5eec3ea8><div class="border-b pb-6" data-v-5eec3ea8><h4 class="text-xl font-semibold mb-1 text-blue-600" data-v-5eec3ea8>Required Options</h4><div class="grid gap-6" data-v-5eec3ea8><div class="bg-gray-50 p-6 rounded-lg" data-v-5eec3ea8><h3 class="font-semibold text-gray-800 text-lg" data-v-5eec3ea8>Coordinates (Required)</h3><div class="mt-3 space-y-3" data-v-5eec3ea8><p class="text-gray-600" data-v-5eec3ea8>Specifies which fields in your input data contain the spatial coordinates of your measurements. The X and Y coordinates are mandatory, while Z is optional.</p><ul class="list-disc list-inside text-gray-600 ml-4 space-y-1" data-v-5eec3ea8><li data-v-5eec3ea8><span class="font-medium" data-v-5eec3ea8>coor x, coor y:</span> Must be specified and reference existing numeric fields of type &quot;double&quot;</li><li data-v-5eec3ea8><span class="font-medium" data-v-5eec3ea8>coor z:</span> Optional - if not specified, Z coordinates default to 0.0</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-5eec3ea8> coor x = xfield<br data-v-5eec3ea8> coor y = yfield<br data-v-5eec3ea8> coor z = zfield </code></div></div><div class="bg-gray-50 p-6 rounded-lg" data-v-5eec3ea8><h3 class="font-semibold text-gray-800 text-lg" data-v-5eec3ea8>Geometry Tags (Required)</h3><div class="mt-3 space-y-3" data-v-5eec3ea8><p class="text-gray-600" data-v-5eec3ea8>Defines special markers that identify different types of geometries in your data. These tags allow the parser to convert simple point measurements into complex geometries like lines and polygons.</p><ul class="list-disc list-inside text-gray-600 ml-4 space-y-1" data-v-5eec3ea8><li data-v-5eec3ea8><span class="font-medium" data-v-5eec3ea8>geom tag point:</span> Marks point features (optional in some parser modes)</li><li data-v-5eec3ea8><span class="font-medium" data-v-5eec3ea8>geom tag line:</span> Marks line features</li><li data-v-5eec3ea8><span class="font-medium" data-v-5eec3ea8>geom tag poly:</span> Marks polygon features</li></ul><p class="text-gray-600" data-v-5eec3ea8>You can define up to 32 tags per geometry type, but they must be unique and not overlap with field separators or quotation marks.</p><code class="block bg-gray-100mt-2 text-sm rounded" data-v-5eec3ea8> geom tag point = &quot;*&quot;<br data-v-5eec3ea8> geom tag line = &quot;-&quot;<br data-v-5eec3ea8> geom tag poly = &quot;@&quot;<br data-v-5eec3ea8> geom tag poly = &quot;@ &quot; # Alternative polygon tag </code></div></div><div class="bg-gray-50 p-6 rounded-lg" data-v-5eec3ea8><h3 class="font-semibold text-gray-800 text-lg" data-v-5eec3ea8>Key Field (Required for some modes)</h3><div class="mt-3 space-y-3" data-v-5eec3ea8><p class="text-gray-600" data-v-5eec3ea8>Specifies the field that contains identifier values linking multiple measurements that belong to the same geometry (like points in a line or polygon).</p><ul class="list-disc list-inside text-gray-600 ml-4 space-y-1" data-v-5eec3ea8><li data-v-5eec3ea8>Mandatory for parser modes &quot;End&quot; and &quot;Max&quot;</li><li data-v-5eec3ea8>All measurements with the same key value are considered part of the same geometry</li><li data-v-5eec3ea8>Can be used with &quot;key unique&quot; option to handle multi-part geometries</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-5eec3ea8> key field = key<br data-v-5eec3ea8> key unique = yes # Optional, for multi-part geometries </code></div></div><div class="bg-gray-50 p-6 rounded-lg" data-v-5eec3ea8><h3 class="font-semibold text-gray-800 text-lg" data-v-5eec3ea8>Tagging Mode (Required)</h3><div class="mt-3 space-y-3" data-v-5eec3ea8><p class="text-gray-600" data-v-5eec3ea8>Determines how the parser interprets geometry tags and processes measurements into features.</p><ul class="list-disc list-inside text-gray-600 ml-4 space-y-1" data-v-5eec3ea8><li data-v-5eec3ea8><span class="font-medium" data-v-5eec3ea8>min:</span> Minimal tagging - typically used when each geometry has one record with complete attributes</li><li data-v-5eec3ea8><span class="font-medium" data-v-5eec3ea8>max:</span> Maximum tagging - for complex geometries with multiple attribute records</li><li data-v-5eec3ea8><span class="font-medium" data-v-5eec3ea8>end:</span> End tagging - processes geometries based on ending markers</li><li data-v-5eec3ea8><span class="font-medium" data-v-5eec3ea8>none:</span> No tagging - treats all records as simple point measurements</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-5eec3ea8> tagging mode = end </code></div></div></div></div><div data-v-5eec3ea8><h4 class="text-xl font-semibold mb-1 text-green-600" data-v-5eec3ea8>Optional Settings</h4><div class="grid gap-6" data-v-5eec3ea8><div class="bg-gray-50 p-6 rounded-lg" data-v-5eec3ea8><h3 class="font-semibold text-gray-800 text-lg" data-v-5eec3ea8>Comment Mark</h3><div class="mt-3 space-y-3" data-v-5eec3ea8><p class="text-gray-600" data-v-5eec3ea8>Defines special characters that mark the beginning of comments in your input data. Any text after these markers will be ignored during processing.</p><ul class="list-disc list-inside text-gray-600 ml-4" data-v-5eec3ea8><li data-v-5eec3ea8>Multiple comment marks can be specified</li><li data-v-5eec3ea8>Must not conflict with field separators or quotation marks</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-5eec3ea8> comment mark = #<br data-v-5eec3ea8> comment mark = // </code></div></div><div class="bg-gray-50 p-6 rounded-lg" data-v-5eec3ea8><h4 class="font-semibold text-gray-800 text-lg" data-v-5eec3ea8>No Data Value</h4><div class="mt-3 space-y-3" data-v-5eec3ea8><p class="text-gray-600" data-v-5eec3ea8>Specifies an integer value to represent null or missing data in your attributes. This value should be unique and not appear in valid data.</p><p class="text-gray-600" data-v-5eec3ea8>This value will be written to output files when a field is empty or contains no valid data.</p><code class="block bg-gray-100mt-2 text-sm rounded" data-v-5eec3ea8> no data = -99999 </code></div></div><div class="bg-gray-50 p-6 rounded-lg" data-v-5eec3ea8><h4 class="font-semibold text-gray-800 text-lg" data-v-5eec3ea8>Tag Strict Mode</h4><div class="mt-3 space-y-3" data-v-5eec3ea8><p class="text-gray-600" data-v-5eec3ea8>Controls how strictly the parser enforces geometry tagging rules. When enabled, every measurement must contain a valid geometry tag or it will be discarded.</p><p class="text-gray-600" data-v-5eec3ea8>Defaults to &quot;off&quot; if not specified. Enable this for stricter data validation.</p><code class="block bg-gray-100mt-2 text-sm rounded" data-v-5eec3ea8> tag strict = yes </code></div></div></div></div></div><div class="mt-8 p-6 bg-blue-50 rounded-lg" data-v-5eec3ea8><h4 class="font-semibold text-blue-800 mb-3 text-lg" data-v-5eec3ea8>Important Considerations</h4><ul class="list-disc list-inside space-y-1 text-blue-700" data-v-5eec3ea8><li data-v-5eec3ea8>All geometry tags must be unique and not overlap with other special characters</li><li data-v-5eec3ea8>Coordinate fields must be numeric and of type &quot;double&quot;</li><li data-v-5eec3ea8>When using the key field, consider whether your geometries might have multiple parts</li><li data-v-5eec3ea8>The parser mode significantly affects how your data is processed - choose carefully</li><li data-v-5eec3ea8>Tag strict mode can help catch data errors but may discard valid measurements if not properly tagged</li></ul></div>',3)]))):(0,l.Q3)("",!0),"imprint"===t.section?((0,l.uX)(),(0,l.CE)("div",I,a[4]||(a[4]=[(0,l.Fv)('<div class="bg-white rounded-lg mb-3 mt-6" data-v-5eec3ea8><h4 class="text-xl font-bold text-gray-800 mb-1" data-v-5eec3ea8>Anbieter</h4><div class="space-y-1 text-gray-600" data-v-5eec3ea8><p class="font-medium" data-v-5eec3ea8> Landesamt f√ºr Denkmalpflege im Regierungspr√§sidium Stuttgart<br data-v-5eec3ea8> Berliner Stra√üe 12<br data-v-5eec3ea8> 73728 Esslingen (Neckar)</p></div></div><div class="bg-white rounded-lg mb-3" data-v-5eec3ea8><h4 class="text-xl font-bold text-gray-800 mb-1" data-v-5eec3ea8>Hinweise zur Nutzung</h4><ol class="list-decimal list-inside space-y-3 text-gray-600" data-v-5eec3ea8><li data-v-5eec3ea8>Das Nutzungsrecht wird Ihnen unentgeltlich einger√§umt.</li><li data-v-5eec3ea8> Das Landesamt f√ºr Denkmalpflege Baden-W√ºrttemberg im Regierungspr√§sidium Stuttgart √ºbernimmt keine Haftung f√ºr Hard- oder Softwaresch√§den, die durch die Anwendung dieser Anwendung verursacht werden. </li><li data-v-5eec3ea8> Es wird keinerlei Support f√ºr die Software gew√§hrleistet. Das LAD und CSGIS haften nicht f√ºr Fahrl√§ssigkeit. Eine Haftung f√ºr mittelbare Sch√§den oder die Wiederbeschaffung von Daten wird ausgeschlossen. </li><li data-v-5eec3ea8> Die Seite verwendet keine Cookies. </li><li data-v-5eec3ea8> Es werden keine Daten serverseitig verarbeitet oder gespeichert. </li></ol></div><div class="bg-white rounded-lg mb-3" data-v-5eec3ea8><h4 class="text-xl font-bold text-gray-800 mb-1" data-v-5eec3ea8>Projektteam</h4><ul class="space-y-1 text-gray-600" data-v-5eec3ea8><li data-v-5eec3ea8>Jonas Abele</li><li data-v-5eec3ea8>Claus Brenner</li><li data-v-5eec3ea8>Jos√© Canalejo</li><li data-v-5eec3ea8>Toni Sch√∂nbuchner</li></ul></div><div class="bg-white rounded-lg" data-v-5eec3ea8><h4 class="text-xl font-bold text-gray-800 mb-1" data-v-5eec3ea8>Projektumsetzung</h4><div class="text-gray-600" data-v-5eec3ea8><p class="font-medium" data-v-5eec3ea8>CSGIS GbR</p><p data-v-5eec3ea8>Am Eichb√ºchl 7</p><p data-v-5eec3ea8>D - 82223 Eichenau</p><a href="http://www.csgis.de" target="_blank" rel="noopener noreferrer" class="text-blue-600 hover:text-blue-800 mt-2 inline-block" data-v-5eec3ea8> www.csgis.de </a></div></div>',4)]))):(0,l.Q3)("",!0),"help"===t.section?((0,l.uX)(),(0,l.CE)("div",V,a[5]||(a[5]=[(0,l.Fv)('<p class="text-lg text-gray-600 mb-8" data-v-5eec3ea8>A web tool to create parser files for Survey2GIS.</p><div class="bg-blue-50 rounded-lg p-6 mb-8" data-v-5eec3ea8><h4 class="text-xl font-semibold text-blue-900 mb-4" data-v-5eec3ea8>üöÄ Quick Start</h4><ol class="space-y-2 text-blue-900" data-v-5eec3ea8><li data-v-5eec3ea8>1. Start with the <span class="font-semibold" data-v-5eec3ea8>Parser Section</span> at the top</li><li data-v-5eec3ea8>2. Fill in the required fields (marked with <span class="text-red-500" data-v-5eec3ea8>*</span>)</li><li data-v-5eec3ea8>3. Add <span class="font-semibold" data-v-5eec3ea8>Field Sections</span> for each data field</li><li data-v-5eec3ea8>4. Download your configuration file</li></ol></div><div class="mb-8" data-v-5eec3ea8><h4 class="text-xl font-semibold text-gray-900 mb-4" data-v-5eec3ea8>Required Settings</h4><div class="bg-white shadow rounded-lg p-6 mb-6" data-v-5eec3ea8><h4 class="text-lg font-semibold text-gray-900 mb-3" data-v-5eec3ea8>‚öôÔ∏è Parser Section</h4><p class="text-gray-600 mb-2" data-v-5eec3ea8>These fields must be filled out:</p><ul class="space-y-2 text-gray-700" data-v-5eec3ea8><li class="flex items-start" data-v-5eec3ea8><span class="font-semibold min-w-[100px]" data-v-5eec3ea8>Name:</span><span data-v-5eec3ea8>Your configuration name</span></li><li class="flex items-start" data-v-5eec3ea8><span class="font-semibold min-w-[100px]" data-v-5eec3ea8>COORX:</span><span data-v-5eec3ea8>Field name for X coordinates</span></li><li class="flex items-start" data-v-5eec3ea8><span class="font-semibold min-w-[100px]" data-v-5eec3ea8>COORY:</span><span data-v-5eec3ea8>Field name for Y coordinates</span></li></ul></div><div class="bg-white shadow rounded-lg p-6" data-v-5eec3ea8><h4 class="text-lg font-semibold text-gray-900 mb-3" data-v-5eec3ea8>üìù Field Sections</h4><p class="text-gray-600 mb-3" data-v-5eec3ea8>For each field you need to specify:</p><div class="space-y-4" data-v-5eec3ea8><div data-v-5eec3ea8><h4 class="font-semibold text-gray-900" data-v-5eec3ea8>Name</h4><p class="text-gray-600" data-v-5eec3ea8>Maximum 10 characters, letters, numbers, and underscores only</p></div><div data-v-5eec3ea8><h4 class="font-semibold text-gray-900" data-v-5eec3ea8>Type</h4><ul class="list-disc ml-5 text-gray-600" data-v-5eec3ea8><li data-v-5eec3ea8>integer (whole numbers)</li><li data-v-5eec3ea8>double (decimal numbers)</li><li data-v-5eec3ea8>text (text strings)</li></ul></div></div></div></div><div class="mb-8" data-v-5eec3ea8><h4 class="text-xl font-semibold text-gray-900 mb-4" data-v-5eec3ea8>Common Tasks</h4><div class="bg-white shadow rounded-lg p-6 mb-6" data-v-5eec3ea8><h4 class="text-lg font-semibold text-gray-900 mb-3" data-v-5eec3ea8>Creating a New Field</h4><ol class="space-y-2 text-gray-600" data-v-5eec3ea8><li data-v-5eec3ea8>1. Click the &quot;Add Field Section&quot; button</li><li data-v-5eec3ea8>2. Fill in the required Name and Type</li><li data-v-5eec3ea8>3. Adjust optional settings as needed</li></ol></div></div><div class="mt-12" data-v-5eec3ea8><h4 class="text-xl font-semibold mb-3 text-green-600" data-v-5eec3ea8>Parser Modes</h4><div class="bg-gray-50 p-6 rounded-lg" data-v-5eec3ea8><h4 class="font-semibold text-gray-800 mb-1" data-v-5eec3ea8>Understanding Geometry Processing</h4><div class="space-y-6" data-v-5eec3ea8><div data-v-5eec3ea8><h4 class="font-medium text-gray-700" data-v-5eec3ea8>Key Limitations</h4><ul class="list-disc list-inside text-gray-600 ml-4" data-v-5eec3ea8><li data-v-5eec3ea8>Vertices of a single geometry must be in one file</li><li data-v-5eec3ea8>Vertex measurements can only be interrupted by comments/empty lines</li><li data-v-5eec3ea8>Available geometry types: point, line, polygon</li></ul></div><div data-v-5eec3ea8><h4 class="font-medium text-gray-700" data-v-5eec3ea8>Geometry Markers</h4><ul class="list-disc list-inside text-gray-600 ml-4" data-v-5eec3ea8><li data-v-5eec3ea8>Use special characters (e.g., @, $) to mark geometry types</li><li data-v-5eec3ea8>Can be separate fields or added to existing fields</li><li data-v-5eec3ea8>Must be declared in &quot;tag field&quot; option</li></ul></div><div data-v-5eec3ea8><h4 class="font-medium text-gray-700" data-v-5eec3ea8>Important Notes</h4><ul class="list-disc list-inside text-gray-600 ml-4" data-v-5eec3ea8><li data-v-5eec3ea8>Polygons are automatically closed - no need for duplicate vertices</li><li data-v-5eec3ea8>Key field values are case-sensitive</li><li data-v-5eec3ea8>Only one parser mode can be used per schema</li></ul></div></div><div class="mt-8 p-6 bg-blue-50 rounded-lg" data-v-5eec3ea8><h4 class="font-semibold text-blue-800 mb-3 text-lg" data-v-5eec3ea8>Important Considerations</h4><ul class="list-disc list-inside space-y-1 text-blue-700" data-v-5eec3ea8><li data-v-5eec3ea8>Field names are limited to 10 characters and specific valid characters</li><li data-v-5eec3ea8>Separator characters must be unique and not overlap with other special characters</li><li data-v-5eec3ea8>Empty fields may not work correctly with whitespace separators</li><li data-v-5eec3ea8>Text replacement only works on exact matches of field content</li><li data-v-5eec3ea8>Parser modes affect how geometry markers and key fields are interpreted</li></ul></div></div></div>',5)]))):(0,l.Q3)("",!0),"field"===t.section?((0,l.uX)(),(0,l.CE)("div",D,a[6]||(a[6]=[(0,l.Fv)('<div class="grid gap-6" data-v-5eec3ea8><div class="bg-gray-50 p-6 rounded-lg" data-v-5eec3ea8><h4 class="font-semibold text-gray-800 text-lg" data-v-5eec3ea8>Required Field Options</h4><div class="mt-3 space-y-4" data-v-5eec3ea8><div data-v-5eec3ea8><h4 class="font-medium text-gray-700" data-v-5eec3ea8>name (Required)</h4><p class="text-gray-600 mt-1" data-v-5eec3ea8>The identifier for your field (max 10 characters)</p><ul class="list-disc list-inside text-gray-600 ml-4 mt-2" data-v-5eec3ea8><li data-v-5eec3ea8>Valid characters: letters, numbers, underscore</li><li data-v-5eec3ea8>Case insensitive - stored in lowercase</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-5eec3ea8> name = index_fld </code></div><div data-v-5eec3ea8><h4 class="font-medium text-gray-700" data-v-5eec3ea8>type (Required)</h4><p class="text-gray-600 mt-1" data-v-5eec3ea8>Defines the data type of the field</p><ul class="list-disc list-inside text-gray-600 ml-4 mt-2" data-v-5eec3ea8><li data-v-5eec3ea8><span class="font-medium" data-v-5eec3ea8>integer:</span> Whole numbers (-1, 0, 100)</li><li data-v-5eec3ea8><span class="font-medium" data-v-5eec3ea8>double:</span> Floating point numbers (-10.05, 0.0)</li><li data-v-5eec3ea8><span class="font-medium" data-v-5eec3ea8>text:</span> Generic text content</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-5eec3ea8> type = integer </code></div><div data-v-5eec3ea8><h4 class="font-medium text-gray-700" data-v-5eec3ea8>separator</h4><p class="text-gray-600 mt-1" data-v-5eec3ea8>Defines characters that separate fields (required except for last field)</p><ul class="list-disc list-inside text-gray-600 ml-4 mt-2" data-v-5eec3ea8><li data-v-5eec3ea8>Can use multiple characters</li><li data-v-5eec3ea8>Special values: &quot;tab&quot; and &quot;space&quot;</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-5eec3ea8> separator = ;<br data-v-5eec3ea8> separator = tab<br data-v-5eec3ea8> separator = space </code></div></div></div><div class="bg-gray-50 p-6 rounded-lg" data-v-5eec3ea8><h3 class="font-semibold text-gray-800 text-lg" data-v-5eec3ea8>Optional Field Settings</h3><div class="mt-3 space-y-4" data-v-5eec3ea8><div data-v-5eec3ea8><h4 class="font-medium text-gray-700" data-v-5eec3ea8>empty allowed</h4><p class="text-gray-600 mt-1" data-v-5eec3ea8>Controls whether fields can be empty</p><ul class="list-disc list-inside text-gray-600 ml-4 mt-2" data-v-5eec3ea8><li data-v-5eec3ea8>Default: off</li><li data-v-5eec3ea8>Cannot be used with key or tag fields</li><li data-v-5eec3ea8>Not compatible with merge_separators</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-5eec3ea8> empty allowed = yes </code></div><div data-v-5eec3ea8><h4 class="font-medium text-gray-700" data-v-5eec3ea8>change case</h4><p class="text-gray-600 mt-1" data-v-5eec3ea8>Converts text field content to upper or lower case</p><ul class="list-disc list-inside text-gray-600 ml-4 mt-2" data-v-5eec3ea8><li data-v-5eec3ea8>Values: lower, upper, none</li><li data-v-5eec3ea8>Only applies to text fields</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-5eec3ea8> change case = lower </code></div><div data-v-5eec3ea8><h4 class="font-medium text-gray-700" data-v-5eec3ea8>Text Replacement (@)</h4><p class="text-gray-600 mt-1" data-v-5eec3ea8>Replaces codes or abbreviations with full text</p><ul class="list-disc list-inside text-gray-600 ml-4 mt-2" data-v-5eec3ea8><li data-v-5eec3ea8>Format: @old=new</li><li data-v-5eec3ea8>Case insensitive matching</li><li data-v-5eec3ea8>Max 254 characters for new text</li></ul><code class="block bg-gray-100mt-2 text-sm rounded" data-v-5eec3ea8> @ABB = Abbreviation<br data-v-5eec3ea8> @P1 = Point of type 1 </code></div></div></div></div>',1)]))):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0)}var P={name:"HelpSidebar",props:{isVisible:{type:Boolean,required:!0},section:{type:String,required:!0}},computed:{title(){const e={parser:"Parser Section Help",field:"Field Section Help",imprint:"Imprint",help:"Help"};return e[this.section]||""}},methods:{close(){this.$emit("close")}}},T=t(1241);const A=(0,T.A)(P,[["render",R],["__scopeId","data-v-5eec3ea8"]]);var j=A;const H={class:"section"},X={key:0,class:"flex justify-center py-8"},N={class:"p-4"},K={class:"flex items-center"},W={class:"text-lg font-semibold"},M={key:0,class:"pi pi-check-circle text-lg ml-2 text-green-500"},B={key:1,class:"pi pi-times text-lg ml-2 text-red-500"},z={class:"flex items-center"},Q={class:"mt-4"},U={class:"text-gray-400 mb-4"},G={class:"grid grid-cols-2 gap-4"},Y={class:"flex items-center justify-between mb-1"},Z={class:"text-xs font-medium text-gray-700"},J={key:0,class:"text-red-500"},ee=["value","onInput"],ae=["value"],te=["value","onInput","placeholder"];function le(e,a,t,o,n,r){return(0,l.uX)(),(0,l.CE)("div",H,[o.isStarted?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",X,[(0,l.Lk)("button",{onClick:a[0]||(a[0]=(...e)=>o.startNewParser&&o.startNewParser(...e)),class:"flex items-center gap-2 px-6 py-3 bg-blue-900 text-white rounded-full hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl"},[a[3]||(a[3]=(0,l.Lk)("i",{class:"pi pi-file-edit text-xl"},null,-1)),(0,l.eW)(" "+(0,s.v_)(e.$t("parser.startNew")),1)])])),(0,l.bo)((0,l.Lk)("div",{class:(0,s.C4)(["shadow mb-3",o.isParserSectionInvalid?"bg-red-100":"bg-white"])},[(0,l.Lk)("div",N,[(0,l.Lk)("div",{class:"flex justify-between items-center cursor-pointer relative",onClick:a[2]||(a[2]=a=>e.$emit("toggle-section","parser"))},[(0,l.Lk)("div",K,[(0,l.Lk)("h3",W,(0,s.v_)(e.$t("parser.section")),1),o.isParserSectionInvalid?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("i",M)),o.isParserSectionInvalid?((0,l.uX)(),(0,l.CE)("i",B)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",z,[(0,l.Lk)("button",{onClick:a[1]||(a[1]=(0,i.D$)((a=>e.$emit("help","parser")),["stop"])),class:"text-blue-500 hover:text-blue-600"},a[4]||(a[4]=[(0,l.Lk)("i",{class:"pi pi-question-circle"},null,-1)])),(0,l.Lk)("i",{class:(0,s.C4)(["pi pi-chevron-down text-lg ml-2 transform transition-transform",{"rotate-180":t.isOpen}])},null,2)])]),(0,l.bo)((0,l.Lk)("div",Q,[(0,l.Lk)("p",U,(0,s.v_)(e.$t("parser.required")),1),(0,l.Lk)("div",G,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.modelValue,((e,i)=>((0,l.uX)(),(0,l.CE)("div",{key:i,class:"mb-2"},[(0,l.Lk)("div",Y,[(0,l.Lk)("label",Z,[(0,l.eW)((0,s.v_)(i)+" ",1),t.mandatoryFields.includes(i)?((0,l.uX)(),(0,l.CE)("span",J,"*")):(0,l.Q3)("",!0)])]),["key_unique","tag_strict"].includes(i)||"tagging_mode"===i?((0,l.uX)(),(0,l.CE)("select",{key:0,value:e,onInput:e=>o.updateField(i,e.target.value),class:(0,s.C4)(["w-full border rounded p-1 text-sm",{"border-red-500":t.mandatoryFields.includes(i)&&!e}])},[["key_unique","tag_strict"].includes(i)?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[a[5]||(a[5]=(0,l.Lk)("option",{value:"Yes"},"Yes",-1)),a[6]||(a[6]=(0,l.Lk)("option",{value:"No"},"No",-1))],64)):((0,l.uX)(),(0,l.CE)(l.FK,{key:1},(0,l.pI)(["min","max","end","none"],(e=>(0,l.Lk)("option",{key:e,value:e},(0,s.v_)(e),9,ae))),64))],42,ee)):((0,l.uX)(),(0,l.CE)("input",{key:1,value:e,onInput:e=>o.updateField(i,e.target.value),type:"text",class:(0,s.C4)(["w-full border rounded p-1 text-sm",{"border-red-500":t.mandatoryFields.includes(i)&&!e}]),placeholder:o.getDefaultValue(i)},null,42,te))])))),128))])],512),[[i.aG,t.isOpen]])])],2),[[i.aG,o.isStarted]])])}var se=t(144),ie={name:"ParserSection",props:{modelValue:{type:Object,required:!0},mandatoryFields:{type:Array,required:!0},isOpen:{type:Boolean,default:!1},started:{type:Boolean,default:!1}},emits:["update:modelValue","toggle-section","help","started"],setup(e,{emit:a}){const t=(0,se.KR)(e.started);(0,l.wB)((()=>e.started),(e=>{t.value=e}),{immediate:!0});const s=()=>{t.value=!0,a("started",!0),a("toggle-section","parser")},i=(0,l.EW)((()=>e.mandatoryFields.some((a=>!e.modelValue[a]||""===e.modelValue[a].trim())))),o=e=>{const a={comment_mark:"#",coor_x:"COORX",coor_y:"COORY",coor_z:"COORZ",geom_tag_point:".",geom_tag_line:"$",geom_tag_poly:"@",no_data:"-1"};return a[e]?`Default: ${a[e]}`:""},n=(t,l)=>{const s={...e.modelValue,[t]:l};a("update:modelValue",s)};return{isStarted:t,startNewParser:s,isParserSectionInvalid:i,getDefaultValue:o,updateField:n}}};const oe=(0,T.A)(ie,[["render",le]]);var ne=oe;const re={class:"p-4"},de={class:"flex items-center"},ce={class:"text-lg font-semibold"},ue={key:0,class:"pi pi-check-circle text-lg ml-2 text-green-500"},pe={key:1,class:"pi pi-times text-lg ml-2 text-red-500"},ve={class:"ms-2 text-gray-400"},me={class:"flex items-center"},ge={class:"mt-4"},fe={class:"grid grid-cols-2 gap-3"},ye={class:"col-span-2"},he=["value"],be={key:0,class:"text-xs text-red-500 mt-1"},xe={class:"col-span-2"},ke=["value"],we={class:"mb-2"},Se=["value"],Le={class:"mb-2"},Ce=["value"],_e={class:"mb-2"},Ee=["value"],Fe={class:"mb-2"},qe=["value"],Oe={class:"mb-2"},$e=["value"],Ie={class:"mb-2"},Ve=["value"],De={class:"mb-2"},Re=["value"],Pe={class:"mb-2"},Te=["value"],Ae={class:"mb-2"},je=["value"],He={class:"col-span-2 mb-2"},Xe=["value"],Ne={key:0,class:"text-xs text-red-500 mt-1"};function Ke(e,a,t,o,n,r){return(0,l.uX)(),(0,l.CE)("div",{class:(0,s.C4)(["shadow mb-3 rounded-lg section",o.isFieldSectionInvalid?"bg-red-100":"bg-white"])},[(0,l.Lk)("div",re,[(0,l.Lk)("div",{class:"flex justify-between items-center cursor-pointer",onClick:a[2]||(a[2]=a=>e.$emit("toggle-section",t.index))},[(0,l.Lk)("div",de,[(0,l.Lk)("h3",ce,"Field Section "+(0,s.v_)(t.index+1),1),o.isFieldSectionInvalid?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("i",ue)),o.isFieldSectionInvalid?((0,l.uX)(),(0,l.CE)("i",pe)):(0,l.Q3)("",!0),(0,l.Lk)("span",ve,(0,s.v_)(t.modelValue.name),1)]),(0,l.Lk)("div",me,[(0,l.Lk)("button",{onClick:a[0]||(a[0]=(0,i.D$)((a=>e.$emit("help","field")),["stop"])),class:"text-blue-500 hover:text-blue-600 mr-2"},a[15]||(a[15]=[(0,l.Lk)("i",{class:"pi pi-question-circle"},null,-1)])),(0,l.Lk)("button",{onClick:a[1]||(a[1]=(0,i.D$)((a=>e.$emit("remove",t.index)),["stop"])),class:"text-red-500"},a[16]||(a[16]=[(0,l.Lk)("i",{class:"pi pi-trash"},null,-1)])),(0,l.Lk)("i",{class:(0,s.C4)(["pi pi-chevron-down text-lg ml-2 transform transition-transform",{"rotate-180":t.isOpen}])},null,2)])]),(0,l.bo)((0,l.Lk)("div",ge,[a[37]||(a[37]=(0,l.Lk)("p",{class:"text-gray-400 mb-4"},[(0,l.eW)(" Fill out the required "),(0,l.Lk)("span",{class:"text-red-300"},"*"),(0,l.eW)(" field configuration below. ")],-1)),(0,l.Lk)("div",fe,[(0,l.Lk)("div",ye,[a[17]||(a[17]=(0,l.Lk)("label",{class:"text-xs font-medium text-gray-700"},[(0,l.eW)(" Name "),(0,l.Lk)("span",{class:"text-red-500"},"*")],-1)),(0,l.Lk)("input",{value:t.modelValue.name,onInput:a[3]||(a[3]=e=>o.updateField("name",e.target.value)),type:"text",class:(0,s.C4)(["w-full border rounded p-1 text-sm",{"border-red-500":!t.modelValue.name||t.validationErrors[`field-${t.index}`]}])},null,42,he),t.validationErrors[`field-${t.index}`]?((0,l.uX)(),(0,l.CE)("p",be,(0,s.v_)(t.validationErrors[`field-${t.index}`].join(", ")),1)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",xe,[a[18]||(a[18]=(0,l.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Info",-1)),(0,l.Lk)("textarea",{value:t.modelValue.info,onInput:a[4]||(a[4]=e=>o.updateField("info",e.target.value)),class:"w-full border rounded p-1 text-sm",rows:"2"},null,40,ke)]),(0,l.Lk)("div",we,[a[20]||(a[20]=(0,l.Lk)("label",{class:"text-xs font-medium text-gray-700"},[(0,l.eW)(" Type "),(0,l.Lk)("span",{class:"text-red-500"},"*")],-1)),(0,l.Lk)("select",{value:t.modelValue.type,onChange:a[5]||(a[5]=e=>o.updateField("type",e.target.value)),class:"w-full border rounded p-1 text-sm"},a[19]||(a[19]=[(0,l.Lk)("option",{value:"integer"},"integer",-1),(0,l.Lk)("option",{value:"double"},"double",-1),(0,l.Lk)("option",{value:"text"},"text",-1)]),40,Se)]),(0,l.Lk)("div",Le,[a[22]||(a[22]=(0,l.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Change Case",-1)),(0,l.Lk)("select",{value:t.modelValue.change_case,onChange:a[6]||(a[6]=e=>o.updateField("change_case",e.target.value)),class:"w-full border rounded p-1 text-sm"},a[21]||(a[21]=[(0,l.Lk)("option",{value:"lower"},"lower",-1),(0,l.Lk)("option",{value:"upper"},"upper",-1)]),40,Ce)]),(0,l.Lk)("div",_e,[a[24]||(a[24]=(0,l.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Empty Allowed",-1)),(0,l.Lk)("select",{value:t.modelValue.empty_allowed,onChange:a[7]||(a[7]=e=>o.updateField("empty_allowed",e.target.value)),class:"w-full border rounded p-1 text-sm"},a[23]||(a[23]=[(0,l.Lk)("option",{value:"yes"},"yes",-1),(0,l.Lk)("option",{value:"no"},"no",-1)]),40,Ee)]),(0,l.Lk)("div",Fe,[a[26]||(a[26]=(0,l.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Merge Separators",-1)),(0,l.Lk)("select",{value:t.modelValue.merge_separators,onChange:a[8]||(a[8]=e=>o.updateField("merge_separators",e.target.value)),class:"w-full border rounded p-1 text-sm"},a[25]||(a[25]=[(0,l.Lk)("option",{value:"yes"},"yes",-1),(0,l.Lk)("option",{value:"no"},"no",-1)]),40,qe)]),(0,l.Lk)("div",Oe,[a[28]||(a[28]=(0,l.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Persistent",-1)),(0,l.Lk)("select",{value:t.modelValue.persistent,onChange:a[9]||(a[9]=e=>o.updateField("persistent",e.target.value)),class:"w-full border rounded p-1 text-sm"},a[27]||(a[27]=[(0,l.Lk)("option",{value:"yes"},"yes",-1),(0,l.Lk)("option",{value:"no"},"no",-1)]),40,$e)]),(0,l.Lk)("div",Ie,[a[30]||(a[30]=(0,l.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Skip",-1)),(0,l.Lk)("select",{value:t.modelValue.skip,onChange:a[10]||(a[10]=e=>o.updateField("skip",e.target.value)),class:"w-full border rounded p-1 text-sm"},a[29]||(a[29]=[(0,l.Lk)("option",{value:"yes"},"yes",-1),(0,l.Lk)("option",{value:"no"},"no",-1)]),40,Ve)]),(0,l.Lk)("div",De,[a[32]||(a[32]=(0,l.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Unique",-1)),(0,l.Lk)("select",{value:t.modelValue.unique,onChange:a[11]||(a[11]=e=>o.updateField("unique",e.target.value)),class:"w-full border rounded p-1 text-sm"},a[31]||(a[31]=[(0,l.Lk)("option",{value:"yes"},"yes",-1),(0,l.Lk)("option",{value:"no"},"no",-1)]),40,Re)]),(0,l.Lk)("div",Pe,[a[33]||(a[33]=(0,l.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Quotation",-1)),(0,l.Lk)("input",{value:t.modelValue.quotation,onInput:a[12]||(a[12]=e=>o.updateField("quotation",e.target.value)),type:"text",class:"w-full border rounded p-1 text-sm",placeholder:"'"},null,40,Te)]),(0,l.Lk)("div",Ae,[a[34]||(a[34]=(0,l.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Separator",-1)),(0,l.Lk)("input",{value:t.modelValue.separator,onInput:a[13]||(a[13]=e=>o.updateField("separator",e.target.value)),type:"text",class:"w-full border rounded p-1 text-sm",placeholder:";"},null,40,je)]),(0,l.Lk)("div",He,[a[35]||(a[35]=(0,l.Lk)("div",{class:"flex justify-between items-center"},[(0,l.Lk)("label",{class:"text-xs font-medium text-gray-700"},"Aliases"),(0,l.Lk)("span",{class:"text-xs text-gray-400"},"Optional")],-1)),(0,l.Lk)("textarea",{value:t.modelValue.aliases,onInput:a[14]||(a[14]=e=>o.updateField("aliases",e.target.value)),class:(0,s.C4)(["w-full border rounded p-1 text-sm font-mono",{"border-red-500":o.aliasesValidationError||t.validationErrors[`field-${t.index}-aliases`]}]),rows:"4",placeholder:"@key=value\n@key2=value2\n@key3=value3",spellcheck:"false"},null,42,Xe),o.aliasesValidationError||t.validationErrors[`field-${t.index}-aliases`]?((0,l.uX)(),(0,l.CE)("p",Ne,(0,s.v_)(o.aliasesValidationError||t.validationErrors[`field-${t.index}-aliases`]),1)):(0,l.Q3)("",!0),a[36]||(a[36]=(0,l.Lk)("p",{class:"text-xs text-gray-500 mt-1"}," Add one alias per line using the format @key=value ",-1))])])],512),[[i.aG,t.isOpen]])])],2)}var We={name:"FieldSection",props:{modelValue:{type:Object,required:!0,default:()=>({change_case:"lower",empty_allowed:"no",info:"",merge_separators:"no",name:"",persistent:"no",quotation:"'",skip:"no",separator:";",type:"text",unique:"no",aliases:""})},index:{type:Number,required:!0},isOpen:{type:Boolean,default:!1},validationErrors:{type:Object,default:()=>({})},mandatoryFields:{type:Array,default:()=>["name","type"]}},emits:["update:modelValue","remove","toggle-section","help","validate"],setup(e,{emit:a}){const t=(0,se.KR)(""),s=(0,se.KR)(null),i=e=>{if(!e)return null;const a=e.split("\n").filter((e=>e.trim())),t=new Set,l=new Set;for(const s of a){if(!s.trim())continue;if(!s.startsWith("@"))return"Each line must start with @";const[e,...a]=s.substring(1).split("="),i=e.trim(),o=a.join("=").trim();if(!i||!o)return"Each line must be in format @key=value";const n=/[^a-zA-Z0-9_]/;if(n.test(i)||n.test(o))return"Keys and values can only contain letters, numbers, and underscores";if(t.has(i))return`Duplicate key found: ${i}`;t.add(i);const r=i.toLowerCase();if(l.has(r)&&!t.has(i))return`Case-insensitive duplicate key found: ${i}`;l.add(r)}return null},o=(l,o)=>{if("aliases"===l){const n={...e.modelValue,[l]:o};a("update:modelValue",n),s.value&&clearTimeout(s.value),s.value=setTimeout((()=>{const l=i(o);t.value=l,!l&&e.validationErrors[`field-${e.index}-aliases`]&&a("validate",e.index,"aliases",null)}),300)}else{const t={...e.modelValue,[l]:o};a("update:modelValue",t),"name"===l&&a("validate",e.index,"name",o)}};(0,l.hi)((()=>{s.value&&clearTimeout(s.value)}));const n=(0,l.EW)((()=>{const a=t.value||e.validationErrors[`field-${e.index}-aliases`],l=e.validationErrors[`field-${e.index}`],s=e.mandatoryFields.some((a=>!e.modelValue[a]||""===e.modelValue[a].trim()));return a||l||s}));return{isFieldSectionInvalid:n,updateField:o,aliasesValidationError:t}}};const Me=(0,T.A)(We,[["render",Ke]]);var Be=Me;const ze={class:"flex justify-center my-6"};function Qe(e,a,t,s,i,o){return(0,l.uX)(),(0,l.CE)("div",ze,[(0,l.Lk)("button",{onClick:a[0]||(a[0]=a=>e.$emit("add")),class:"flex items-center gap-2 px-6 py-3 bg-gray-700 text-white rounded-full hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl"},a[1]||(a[1]=[(0,l.Lk)("i",{class:"pi pi-plus text-xl"},null,-1),(0,l.eW)(" Add New Field Section ")]))])}var Ue={name:"AddFieldButton",emits:["add"]};const Ge=(0,T.A)(Ue,[["render",Qe]]);var Ye=Ge,Ze=t(5384),Je=t(1017),ea=t.n(Je);const aa=()=>{ea().languages.ini={comment:/#.*/,section:{pattern:/^\s*\[.*?\]/m,inside:{"section-name":{pattern:/\[.*?\]/,inside:{punctuation:/\[|\]/}}}},key:{pattern:/^\s*[^\s=]+(?=\s*=)/m,alias:"attr-name"},value:{pattern:/=.*/,alias:"attr-value",inside:{punctuation:/^=/,number:/\b\d+\.?\d*\b/,boolean:/\b(?:yes|no|true|false)\b/i,string:/'[^']*'|"[^"]*"|[^=\s]+/,type:/\b(?:integer|double|text)\b/i}}};const e="\n    .token.number {\n      color: #f08d49 !important;\n    }\n    .token.boolean {\n      color: #7ec699 !important;\n    }\n    .token.string {\n      color: #f1fa8c !important;\n    }\n    .token.type {\n      color: #bd93f9 !important;\n    }\n    .token.section {\n      color: #79b8ff !important;\n    }\n    .token.key {\n      color: #e1e4e8 !important;\n    }\n    .token.value {\n      color: #85e89d !important;\n    }\n    .token.comment {\n      color: #959da5 !important;\n      font-style: italic;\n    }\n  ",a=document.createElement("style");a.textContent=e,document.head.appendChild(a)},ta=e=>{e&&ea().highlightElement(e)};aa();var la={name:"Survey2GISGenerator",components:{HelpSidebar:j,ParserSection:ne,FieldSection:Be,AddFieldButton:Ye},setup(){const e=(0,se.KR)(!1),{t:a}=(0,Ze.s9)(),t=(0,se.KR)(!0),s={parserSection:(0,se.KR)({info:"",name:"",comment_mark:"#",coor_x:"COORX",coor_y:"COORY",coor_z:"COORZ",geom_tag_point:".",geom_tag_line:"$",geom_tag_poly:"@",key_field:"",key_unique:"No",no_data:"-1",tag_field:"",tagging_mode:"none",tag_strict:"No",hasStarted:(0,se.KR)(!1)}),fieldSections:(0,se.KR)([]),validationErrors:(0,se.KR)({}),openSection:(0,se.KR)(""),showHelpSidebar:(0,se.KR)(!1),currentHelpSection:(0,se.KR)(""),showStartLabel:(0,se.KR)(!0),isDropdownOpen:(0,se.KR)(!1),generatedIni:(0,se.KR)(`# ${a("parser.code_comment")}`),fileError:(0,se.KR)(""),showTooltip:(0,se.KR)(null),openFieldIndex:(0,se.KR)(null),showToast:(0,se.KR)(!1)};(0,l.wB)((()=>a("parser.code_comment")),(e=>{s.generatedIni.value.includes("=")||(s.generatedIni.value=`# ${e}`)}));const i={parser:["name","coor_x","coor_y","coor_z"],field:["name","type"]},o={comment_mark:"#",coor_x:"COORX",coor_y:"COORY",coor_z:"COORZ",geom_tag_point:".",geom_tag_line:"$",geom_tag_poly:"@",no_data:"-1"},n=(0,l.EW)((()=>{const e=i.parser.every((e=>s.parserSection.value[e]&&""!==s.parserSection.value[e].trim())),a=s.fieldSections.value.every((e=>i.field.every((a=>e[a]&&""!==e[a].trim()))&&!s.validationErrors.value[`field-${s.fieldSections.value.indexOf(e)}`]));return e&&a&&s.fieldSections.value.length>0})),r=()=>i.parser.some((e=>!s.parserSection.value[e]||""===s.parserSection.value[e].trim())),d={isFieldSectionInvalid:e=>{const a=s.fieldSections.value[e];return!!s.validationErrors.value[`field-${e}`]||i.field.some((e=>!a[e]||""===a[e].trim()))},validateField:(e,a,t)=>{if("aliases"===a){if(null===t){const a={...s.validationErrors.value};delete a[`field-${e}-aliases`],s.validationErrors.value=a}return}const l=d.validateFieldName(t);if(l.length>0)s.validationErrors.value={...s.validationErrors.value,[`field-${e}`]:l};else{const a={...s.validationErrors.value};delete a[`field-${e}`],s.validationErrors.value=a}},validateFieldName:e=>{const a=[];return e.length>10&&a.push("Field name must be 10 characters or less"),/^[A-Za-z0-9_]*$/.test(e)||a.push("Field name can only contain letters, numbers, and underscores"),a},addFieldSection:()=>{const e={name:"",change_case:"lower",empty_allowed:"no",info:"",merge_separators:"no",persistent:"no",quotation:"'",skip:"no",separator:";",type:"text",unique:"no",aliases:""};s.fieldSections.value.push(e),s.openSection.value=s.fieldSections.value.length-1,c.scrollToSection(s.fieldSections.value.length-1)},removeFieldSection:e=>{s.fieldSections.value.splice(e,1);const a={...s.validationErrors.value};delete a[`field-${e}`],s.validationErrors.value=a,s.openSection.value===e?s.openSection.value=null:"number"===typeof s.openSection.value&&s.openSection.value>e&&s.openSection.value--,v()}},c={scrollToSection:e=>{(0,l.dY)((()=>{const a=document.querySelector(".code__wrapper"),t=document.querySelector(".code__field"),l=document.querySelectorAll(".left-panel .section");if(!a||!t||!l.length)return void console.error("Required elements not found");console.log("Left Panel Items:",l);const i=s.generatedIni.value.split("\n");let o=0;if("parser"===e)o=i.findIndex((e=>"[Parser]"===e.trim()));else{let a=-1;o=i.findIndex((t=>"[Field]"===t.trim()&&(a++,a===e)))}if(-1===o)return void console.error("Target section not found");const n=parseInt(window.getComputedStyle(t).lineHeight)||20,r=o*n;let d;if("parser"===e?(console.log("Looking for parser in the left panel"),d=Array.from(l).find((e=>e.textContent.includes("Parser")))):d=l[e],console.log("Left Panel Item for Section:",d),!d)return void console.error(`Left panel item for section ${e} not found`);const c=d.getBoundingClientRect().top,u=a.getBoundingClientRect().top;let p=r+(c-u);const v=30;("parser"===e||e<=2)&&(p-=v),a.scrollTo({top:Math.max(0,p),behavior:"smooth"})}))},toggleSection:e=>{const a=s.openSection.value===e;s.openSection.value=a?null:e,a||null===e||c.scrollToSection(e)}},u={validateAliases:e=>{if(!e)return null;const a=e.split("\n").filter((e=>e.trim())),t=new Set,l=new Set;for(const s of a){if(!s.startsWith("@"))return"Each line must start with @";const[e,...a]=s.substring(1).split("="),i=e.trim(),o=a.join("=").trim();if(!i||!o)return"Each line must be in format @key=value";const n=/[^a-zA-Z0-9_]/;if(n.test(i)||n.test(o))return"Keys and values can only contain letters, numbers, and underscores";if(t.has(i))return`Duplicate key found: ${i}`;t.add(i);const r=i.toLowerCase();if(l.has(r)&&!t.has(i))return`Case-insensitive duplicate key found: ${i}`;l.add(r)}return null},loadSampleData:()=>{const e="./parser/parser_desc_min.txt";fetch(e).then((e=>e.text())).then((e=>{u.parseIniContent(e),p.closeDropdown()})).catch((e=>{s.fileError.value=`Error loading sample data: ${e.message}`}))},handleFileUpload:async e=>{const a=e.target.files[0];if(a)if(a.name.toLowerCase().endsWith(".ini")||a.name.toLowerCase().endsWith(".txt"))try{const e=await u.readFileContent(a);u.parseIniContent(e),s.fileError.value=""}catch(t){s.fileError.value=`Error reading file: ${t.message}`}else s.fileError.value="Invalid file type. Please upload an .ini or .txt file";else s.fileError.value="No file selected"},readFileContent:e=>new Promise(((a,t)=>{const l=new FileReader;l.onload=e=>{try{a(e.target.result)}catch(l){t(l)}},l.onerror=e=>{t(new Error(e.target.error))},l.readAsText(e)})),parseIniContent:a=>{try{s.parserSection.value={info:"",name:"",comment_mark:"#",coor_x:"COORX",coor_y:"COORY",coor_z:"COORZ",geom_tag_point:".",geom_tag_line:"$",geom_tag_poly:"@",key_field:"",key_unique:"No",no_data:"-1",tag_field:"",tagging_mode:"none",tag_strict:"No"},s.fileError.value="",s.validationErrors.value={},e.value=!0,s.openSection.value="parser";let t=null,l=[],i=-1;const o=a.split("\n");for(let e of o)if(e=e.trim(),e&&!e.startsWith("#"))if(e.startsWith("[")&&e.endsWith("]")){if("field"===t&&l.length>0&&s.fieldSections.value.length>0){const e=s.fieldSections.value[s.fieldSections.value.length-1],a=l.join("\n"),t=u.validateAliases(a);t&&(s.validationErrors.value[`field-${i}-aliases`]=t),e.aliases=a}t=e.slice(1,-1).toLowerCase(),l=[],"field"===t&&(i++,s.fieldSections.value.push({change_case:"lower",empty_allowed:"no",info:"",merge_separators:"no",name:"",persistent:"no",quotation:"'",skip:"no",separator:";",type:"text",unique:"no",aliases:""}))}else if(t)if(e.startsWith("@"))l.push(e);else if(e.includes("=")){const[a,...l]=e.split("="),i=a.trim(),o=l.join("=").trim();if("parser"===t)i in s.parserSection.value&&(s.parserSection.value[i]=o);else if("field"===t&&s.fieldSections.value.length>0){const e=s.fieldSections.value[s.fieldSections.value.length-1];i in e&&(e[i]=o)}}if("field"===t&&l.length>0&&s.fieldSections.value.length>0){const e=s.fieldSections.value[s.fieldSections.value.length-1],a=l.join("\n"),t=u.validateAliases(a);t&&(s.validationErrors.value[`field-${i}-aliases`]=[t]),e.aliases=a}s.fieldSections.value.forEach(((e,a)=>{d.validateField(a,e.name)})),v()}catch(t){s.fileError.value=`Error parsing INI content: ${t.message}`,console.error("Error parsing INI content:",t)}}},p={showHelp:e=>{s.currentHelpSection.value=e,s.showHelpSidebar.value=!0},closeHelp:()=>{s.showHelpSidebar.value=!1,s.currentHelpSection.value=""},closeToast:()=>{s.showToast.value=!1},closeDropdown:()=>{s.isDropdownOpen.value=!1},triggerFileUpload:()=>{document.querySelector("#file-upload").click()}},v=()=>{let e="[Parser]\n";const a=Object.entries(s.parserSection.value).filter((([e])=>""!==e)).map((([e,a])=>`${e} = ${a}`)).join("\n");e+=a,s.fieldSections.value.forEach((a=>{e+="\n\n[Field]\n";const t=Object.entries(a).filter((([e,a])=>"aliases"!==e&&""!==a)).map((([e,a])=>`${e} = ${a}`)).join("\n");if(e+=t,a.aliases){const l=a.aliases.split("\n").filter((e=>e.trim()&&!e.includes("error"))).map((e=>{if(e=e.trim(),e.startsWith("@")){const[a,...t]=e.split("="),l=a.trim(),s=t.join("=").trim();return`${l} = ${s}`}return e})).join("\n");l&&(e+=t?"\n":"",e+=l)}})),s.generatedIni.value=e+"\n"},m=()=>{const e=new Blob([s.generatedIni.value],{type:"text/plain"}),a=window.URL.createObjectURL(e),t=document.createElement("a");t.href=a,t.download="survey2gis_parser.ini",document.body.appendChild(t),t.click(),document.body.removeChild(t),window.URL.revokeObjectURL(a)};return(0,l.wB)((()=>s.generatedIni.value),(()=>{(0,l.dY)((()=>{document.querySelectorAll("pre code").forEach((e=>{ta(e)}))}))}),{immediate:!0}),(0,l.wB)([()=>s.parserSection.value,()=>s.fieldSections.value],v,{deep:!0}),(0,l.sV)((()=>{const e=document.querySelector(".code__wrapper");e&&(e.style.overflowY="auto",e.style.position="relative"),s.showToast.value=!0,setTimeout((()=>{p.closeToast()}),1e4)})),{...s,hasStarted:e,mandatoryFields:i,isParserSectionInvalid:r,isFormValid:n,...d,...c,...u,...p,generateIni:v,downloadIni:m,uploadisDisabled:t,getDefaultValue:e=>o[e]?`Default: ${o[e]}`:""}}};const sa=(0,T.A)(la,[["render",E]]);var ia=sa,oa={language:"Sprache",loadParser:"Parser-Datei laden",uploadParser:"Parser-Datei hochladen",loadSample:"Beispieldaten laden",download:"Parser-Datei herunterladen",imprint:"Impressum",help:"Hilfe"},na={startNew:"Neue Parser-Datei erstellen",section:"Parser-Bereich",required:"F√ºllen Sie die erforderlichen * Feldkonfigurationen unten aus.",code_comment:"Hier erscheinst eine Voransicht des generierten Parser Codes"},ra={navigation:oa,parser:na},da={language:"Language",loadParser:"Load Parser File",uploadParser:"Upload parser file",loadSample:"Load sample data",download:"Download parser file",imprint:"Imprint",help:"Help"},ca={startNew:"Start New Parser File",section:"Parser Section",required:"Fill out the required * field configuration below.",code_comment:"you will see a preview of your parser file here"},ua={navigation:da,parser:ca},pa=(0,Ze.hU)({legacy:!1,locale:"en",fallbackLocale:"en",messages:{en:ua,de:ra}});const va=(0,i.Ef)(ia);va.use(pa),va.mount("#app")}},a={};function t(l){var s=a[l];if(void 0!==s)return s.exports;var i=a[l]={exports:{}};return e[l].call(i.exports,i,i.exports,t),i.exports}t.m=e,function(){var e=[];t.O=function(a,l,s,i){if(!l){var o=1/0;for(c=0;c<e.length;c++){l=e[c][0],s=e[c][1],i=e[c][2];for(var n=!0,r=0;r<l.length;r++)(!1&i||o>=i)&&Object.keys(t.O).every((function(e){return t.O[e](l[r])}))?l.splice(r--,1):(n=!1,i<o&&(o=i));if(n){e.splice(c--,1);var d=s();void 0!==d&&(a=d)}}return a}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[l,s,i]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={524:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var s,i,o=l[0],n=l[1],r=l[2],d=0;if(o.some((function(a){return 0!==e[a]}))){for(s in n)t.o(n,s)&&(t.m[s]=n[s]);if(r)var c=r(t)}for(a&&a(l);d<o.length;d++)i=o[d],t.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return t.O(c)},l=self["webpackChunks2g_parser_generator"]=self["webpackChunks2g_parser_generator"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[504],(function(){return t(6694)}));l=t.O(l)})();
//# sourceMappingURL=app.84b4f205.js.map